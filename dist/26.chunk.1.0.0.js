(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[26],{

/***/ "./src/components/Messages/ConversationPreview.js":
/*!********************************************************!*\
  !*** ./src/components/Messages/ConversationPreview.js ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ \"./node_modules/react-redux/es/index.js\");\n/* harmony import */ var query_string__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! query-string */ \"./node_modules/query-string/index.js\");\n/* harmony import */ var query_string__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(query_string__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-bootstrap/Row */ \"./node_modules/react-bootstrap/Row.js\");\n/* harmony import */ var react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-bootstrap/Col */ \"./node_modules/react-bootstrap/Col.js\");\n/* harmony import */ var react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var react_bootstrap_Image__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-bootstrap/Image */ \"./node_modules/react-bootstrap/Image.js\");\n/* harmony import */ var react_bootstrap_Image__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_bootstrap_Image__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var react_bootstrap_Badge__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-bootstrap/Badge */ \"./node_modules/react-bootstrap/Badge.js\");\n/* harmony import */ var react_bootstrap_Badge__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react_bootstrap_Badge__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../constants */ \"./src/constants.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../utils */ \"./src/utils/index.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\n\n\n\n\n\n\nvar ConversationPreview =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(ConversationPreview, _React$PureComponent);\n\n  function ConversationPreview() {\n    _classCallCheck(this, ConversationPreview);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ConversationPreview).apply(this, arguments));\n  }\n\n  _createClass(ConversationPreview, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          conversation = _this$props.conversation,\n          userId = _this$props.userId,\n          users = _this$props.users,\n          translation = _this$props.translation,\n          history = _this$props.history,\n          showPictureModal = _this$props.showPictureModal,\n          showDeleteConfirmation = _this$props.showDeleteConfirmation;\n      var messages = conversation.messages.filter(function (e) {\n        return !e.deleted;\n      });\n      var unreadMessages = messages.filter(function (m) {\n        return !m.read && m.from._id !== userId;\n      });\n      var lastMessage = messages.length > 0 ? messages[messages.length - 1] : null;\n      var messageTextClass = lastMessage && !lastMessage.read ? 'unread-message' : '';\n\n      var goToConversation = function goToConversation() {\n        history.push(\"/conversation?\".concat(query_string__WEBPACK_IMPORTED_MODULE_2___default.a.stringify({\n          convId: conversation._id\n        })));\n      };\n\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tr\", {\n        key: conversation._id,\n        className: unreadMessages.length > 0 ? 'new-messages-bg' : ''\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"td\", {\n        className: \"conversation-td\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_3___default.a, {\n        noGutters: true\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_4___default.a, {\n        xs: 7,\n        sm: 10\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(SenderInfo, {\n        history: history,\n        convId: conversation._id,\n        userId: userId,\n        conversation: conversation,\n        showPictureModal: showPictureModal,\n        users: users\n      }), lastMessage && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_3___default.a, {\n        className: \"message-preview d-none d-sm-flex\",\n        onClick: goToConversation\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_4___default.a, {\n        xs: 4,\n        sm: 2,\n        className: \"user-from-text\",\n        style: {\n          paddingRight: 0\n        }\n      }, lastMessage.from.username, \":\"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_4___default.a, {\n        xs: 8,\n        sm: 8,\n        style: {\n          paddingLeft: 10\n        }\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"conversation-text \".concat(messageTextClass)\n      }, lastMessage.text)))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_4___default.a, {\n        xs: 5,\n        sm: 2,\n        className: \"conversation-actions\",\n        onClick: goToConversation\n      }, unreadMessages.length > 0 && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_Badge__WEBPACK_IMPORTED_MODULE_6___default.a, {\n        variant: \"success\",\n        style: {\n          marginRight: 15\n        }\n      }, unreadMessages.length), Object(_utils__WEBPACK_IMPORTED_MODULE_8__[\"timestampToHumanDate\"])(conversation.timestamp, false, translation), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n        className: \"far fa-trash-alt\",\n        title: translation.CONVERSATIONS.DELETE,\n        style: {\n          paddingLeft: 10\n        },\n        onClick: function onClick(event) {\n          return showDeleteConfirmation(event, conversation._id);\n        }\n      }))), lastMessage && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_3___default.a, {\n        className: \"message-preview d-flex d-sm-none\",\n        onClick: goToConversation\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_4___default.a, {\n        xs: 4,\n        sm: 2,\n        className: \"user-from-text\"\n      }, lastMessage.from.username, \":\"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_4___default.a, {\n        xs: 8,\n        sm: 8,\n        style: {\n          paddingLeft: 10\n        }\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"conversation-text \".concat(messageTextClass)\n      }, lastMessage.text)))));\n    }\n  }]);\n\n  return ConversationPreview;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent);\n\n_defineProperty(ConversationPreview, \"displayName\", 'ConversationPreview');\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_1__[\"connect\"])(function (state) {\n  return {\n    user: state.authentication.user,\n    users: state.users.users,\n    translation: state.translation\n  };\n}, {})(ConversationPreview));\n\nvar SenderInfo =\n/*#__PURE__*/\nfunction (_React$PureComponent2) {\n  _inherits(SenderInfo, _React$PureComponent2);\n\n  function SenderInfo() {\n    _classCallCheck(this, SenderInfo);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(SenderInfo).apply(this, arguments));\n  }\n\n  _createClass(SenderInfo, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          history = _this$props2.history,\n          convId = _this$props2.convId,\n          conversation = _this$props2.conversation,\n          userId = _this$props2.userId,\n          users = _this$props2.users,\n          showPictureModal = _this$props2.showPictureModal;\n      var userIds = conversation.users.map(function (u) {\n        return u._id;\n      });\n      var senders = users.filter(function (u) {\n        return userIds.includes(u._id);\n      });\n\n      if (senders.length > 1) {\n        senders = senders.filter(function (u) {\n          return u._id !== userId;\n        }); // exclude recipient\n      }\n\n      var lastSender = senders[0];\n      var pictureUrl;\n\n      if (senders.length === 1) {\n        pictureUrl = lastSender.pictureUrl ? lastSender.pictureUrl : '/images/default-profile.jpg';\n      } else {\n        pictureUrl = '/images/conversation-group.jpg';\n      }\n\n      var goToConversation = function goToConversation() {\n        history.push(\"/conversation?\".concat(query_string__WEBPACK_IMPORTED_MODULE_2___default.a.stringify({\n          convId: convId\n        })));\n      };\n\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"profile-picture-wrapper\"\n      }, senders.length === 1 ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_Image__WEBPACK_IMPORTED_MODULE_5___default.a, {\n        roundedCircle: true,\n        style: lastSender.online ? _constants__WEBPACK_IMPORTED_MODULE_7__[\"ONLINE_STYLE\"] : {},\n        className: \"profile-picture\",\n        src: pictureUrl,\n        onClick: function onClick() {\n          return showPictureModal(pictureUrl);\n        }\n      }) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_Image__WEBPACK_IMPORTED_MODULE_5___default.a, {\n        roundedCircle: true,\n        style: senders.some(function (e) {\n          return e.online;\n        }) ? _constants__WEBPACK_IMPORTED_MODULE_7__[\"ONLINE_STYLE\"] : {},\n        className: \"profile-picture\",\n        src: pictureUrl,\n        onClick: function onClick() {\n          return showPictureModal(pictureUrl);\n        }\n      })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        style: {\n          color: '#343a40'\n        },\n        onClick: goToConversation\n      }, senders.length === 1 ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"strong\", null, lastSender.username) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"cut-senders-text\"\n      }, senders.map(function (sender) {\n        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"strong\", {\n          key: sender._id,\n          style: sender.online ? {\n            color: _constants__WEBPACK_IMPORTED_MODULE_7__[\"MAIN_COLOR\"]\n          } : {}\n        }, sender.username);\n      }).reduce(function (prev, curr) {\n        return [prev, ', ', curr];\n      }))));\n    }\n  }]);\n\n  return SenderInfo;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent);\n\n_defineProperty(SenderInfo, \"displayName\", 'SenderInfo');\n\n//# sourceURL=webpack:///./src/components/Messages/ConversationPreview.js?");

/***/ }),

/***/ "./src/components/Messages/Conversations.js":
/*!**************************************************!*\
  !*** ./src/components/Messages/Conversations.js ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ \"./node_modules/react-redux/es/index.js\");\n/* harmony import */ var react_bootstrap_Container__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-bootstrap/Container */ \"./node_modules/react-bootstrap/Container.js\");\n/* harmony import */ var react_bootstrap_Container__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_bootstrap_Container__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-bootstrap/Row */ \"./node_modules/react-bootstrap/Row.js\");\n/* harmony import */ var react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-bootstrap/Col */ \"./node_modules/react-bootstrap/Col.js\");\n/* harmony import */ var react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var react_bootstrap_InputGroup__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-bootstrap/InputGroup */ \"./node_modules/react-bootstrap/InputGroup.js\");\n/* harmony import */ var react_bootstrap_InputGroup__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_bootstrap_InputGroup__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-bootstrap/Form */ \"./node_modules/react-bootstrap/Form.js\");\n/* harmony import */ var react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var react_bootstrap_Modal__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-bootstrap/Modal */ \"./node_modules/react-bootstrap/Modal.js\");\n/* harmony import */ var react_bootstrap_Modal__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react_bootstrap_Modal__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var react_bootstrap_Jumbotron__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-bootstrap/Jumbotron */ \"./node_modules/react-bootstrap/Jumbotron.js\");\n/* harmony import */ var react_bootstrap_Jumbotron__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react_bootstrap_Jumbotron__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var react_bootstrap_Table__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react-bootstrap/Table */ \"./node_modules/react-bootstrap/Table.js\");\n/* harmony import */ var react_bootstrap_Table__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react_bootstrap_Table__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! react-bootstrap/Button */ \"./node_modules/react-bootstrap/Button.js\");\n/* harmony import */ var react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var react_bootstrap_Image__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! react-bootstrap/Image */ \"./node_modules/react-bootstrap/Image.js\");\n/* harmony import */ var react_bootstrap_Image__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(react_bootstrap_Image__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _redux_reducers_conversations__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../redux/reducers/conversations */ \"./src/redux/reducers/conversations.js\");\n/* harmony import */ var _common_ConfirmationModal__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../common/ConfirmationModal */ \"./src/components/common/ConfirmationModal.js\");\n/* harmony import */ var _ConversationPreview__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./ConversationPreview */ \"./src/components/Messages/ConversationPreview.js\");\n/* harmony import */ var _common_Spinner__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../common/Spinner */ \"./src/components/common/Spinner.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar Conversations =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(Conversations, _React$PureComponent);\n\n  function Conversations(props) {\n    var _this;\n\n    _classCallCheck(this, Conversations);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Conversations).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"onSearch\", function (value) {\n      if (value === '') {\n        _this.setState({\n          filteredConversations: _this.props.conversations // back to original list\n\n        });\n      } else {\n        var result = _this.props.conversations.filter(function (conv) {\n          var matchedUsers = conv.users.filter(function (u) {\n            return u.username.toLowerCase().indexOf(value.toLowerCase()) !== -1;\n          });\n\n          if (matchedUsers.length > 0) {\n            return true;\n          }\n\n          var convMessagesStr = \"\".concat(conv.messages.map(function (e) {\n            return e.text;\n          }).join(' ')).toLowerCase();\n          return convMessagesStr.indexOf(value.toLowerCase()) !== -1;\n        });\n\n        _this.setState({\n          filteredConversations: result\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"createConversation\", function () {\n      return _this.props.history.push('/create-conversation');\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"showPictureModal\", function (url) {\n      return _this.setState({\n        clickedPicture: url\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"hidePictureModal\", function () {\n      return _this.setState({\n        clickedPicture: ''\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"showDeleteConfirmation\", function (event, convId) {\n      event.stopPropagation();\n\n      _this.setState({\n        deleteConversationId: convId\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"hideDeleteConfirmation\", function () {\n      return _this.setState({\n        deleteConversationId: ''\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"deleteConversation\", function () {\n      _this.props.deleteConversation(_this.state.deleteConversationId);\n\n      _this.hideDeleteConfirmation();\n    });\n\n    _this.state = {\n      conversations: [],\n      filteredConversations: [],\n      clickedPicture: '',\n      deleteConversationId: ''\n    };\n    return _this;\n  }\n\n  _createClass(Conversations, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.getConversationsByUser(this.props.user._id);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          user = _this$props.user,\n          isConversationsLoaded = _this$props.isConversationsLoaded,\n          translation = _this$props.translation,\n          history = _this$props.history;\n      var conversations = this.state.filteredConversations;\n      var content = [];\n\n      if (!isConversationsLoaded) {\n        content = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n          style: {\n            paddingTop: '50vh'\n          }\n        }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_common_Spinner__WEBPACK_IMPORTED_MODULE_15__[\"default\"], null));\n      } else if (conversations.length === 0) {\n        content = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_Jumbotron__WEBPACK_IMPORTED_MODULE_8___default.a, {\n          className: \"text-center\"\n        }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"p\", null, translation.CONVERSATIONS.NO_CONVERSATIONS));\n      } else {\n        content = // delete on hover: <Table hover className='fa-hover'>\n        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_Table__WEBPACK_IMPORTED_MODULE_9___default.a, {\n          hover: true\n        }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"tbody\", null, conversations.map(function (conversation) {\n          return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ConversationPreview__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n            key: conversation._id,\n            userId: user._id,\n            conversation: conversation,\n            history: history,\n            showPictureModal: _this2.showPictureModal,\n            showDeleteConfirmation: _this2.showDeleteConfirmation\n          });\n        })));\n      }\n\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_Container__WEBPACK_IMPORTED_MODULE_2___default.a, {\n        fluid: true\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_3___default.a, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_4___default.a, {\n        md: {\n          span: 10,\n          offset: 1\n        },\n        lg: {\n          span: 8,\n          offset: 2\n        }\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"header\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        style: {\n          color: 'grey'\n        }\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_InputGroup__WEBPACK_IMPORTED_MODULE_5___default.a, {\n        size: \"sm\",\n        className: \"search-container\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_InputGroup__WEBPACK_IMPORTED_MODULE_5___default.a.Prepend, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n        className: \"fas fa-search\"\n      })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_6___default.a.Control, {\n        placeholder: translation.CONVERSATIONS.SEARCH_IN_CONVERSATIONS,\n        \"aria-label\": \"Search conversations\",\n        \"aria-describedby\": \"search\",\n        className: \"search-input\",\n        onChange: function onChange(e) {\n          return _this2.onSearch(e.target.value);\n        }\n      }))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_10___default.a, {\n        variant: \"outline-dark\",\n        size: \"sm\",\n        className: \"create-btn d-none d-sm-block\",\n        onClick: function onClick() {\n          return _this2.createConversation();\n        }\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n        className: \"fa fa-comments fa-lg\",\n        style: {\n          marginRight: 8\n        }\n      }), translation.CONVERSATIONS.NEW_CONVERSATION), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_10___default.a, {\n        variant: \"outline-dark\",\n        className: \"d-block d-sm-none btn-mobile-icon\",\n        title: translation.CONVERSATIONS.NEW_CONVERSATION,\n        onClick: function onClick() {\n          return _this2.createConversation();\n        }\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"i\", {\n        className: \"fa fa-comments fa-lg\"\n      }))), content, this.state.clickedPicture && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_Modal__WEBPACK_IMPORTED_MODULE_7___default.a, {\n        show: this.state.clickedPicture !== null,\n        className: \"profile-modal\",\n        onHide: this.hidePictureModal\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_Modal__WEBPACK_IMPORTED_MODULE_7___default.a.Body, {\n        style: {\n          textAlign: 'center'\n        }\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_Image__WEBPACK_IMPORTED_MODULE_11___default.a, {\n        className: \"profile-modal-picture\",\n        src: this.state.clickedPicture\n      }))), this.state.deleteConversationId && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_common_ConfirmationModal__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n        title: translation.COMMON.DELETE_CONFIRMATION,\n        body: translation.CONVERSATIONS.DELETE_CONFIRMATION,\n        onConfirm: function onConfirm() {\n          return _this2.deleteConversation();\n        },\n        onCancel: function onCancel() {\n          return _this2.hideDeleteConfirmation();\n        }\n      }))));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(props, state) {\n      if (props.conversations !== state.conversations) {\n        return {\n          conversations: props.conversations,\n          filteredConversations: props.conversations\n        };\n      }\n\n      return null;\n    }\n  }]);\n\n  return Conversations;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_1__[\"connect\"])(function (state) {\n  return {\n    user: state.authentication.user,\n    conversations: state.conversations.conversations,\n    isConversationsLoaded: state.conversations.isConversationsLoaded,\n    translation: state.translation\n  };\n}, {\n  getConversationsByUser: _redux_reducers_conversations__WEBPACK_IMPORTED_MODULE_12__[\"getConversationsByUser\"],\n  deleteConversation: _redux_reducers_conversations__WEBPACK_IMPORTED_MODULE_12__[\"deleteConversation\"]\n})(Conversations));\n\n//# sourceURL=webpack:///./src/components/Messages/Conversations.js?");

/***/ }),

/***/ "./src/components/common/ConfirmationModal.js":
/*!****************************************************!*\
  !*** ./src/components/common/ConfirmationModal.js ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ \"./node_modules/react-redux/es/index.js\");\n/* harmony import */ var react_bootstrap_Modal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-bootstrap/Modal */ \"./node_modules/react-bootstrap/Modal.js\");\n/* harmony import */ var react_bootstrap_Modal__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_bootstrap_Modal__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-bootstrap/Button */ \"./node_modules/react-bootstrap/Button.js\");\n/* harmony import */ var react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\n\nvar ConfirmationModal = function ConfirmationModal(props) {\n  var translation = Object(react_redux__WEBPACK_IMPORTED_MODULE_1__[\"useSelector\"])(function (state) {\n    return state.translation;\n  });\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_Modal__WEBPACK_IMPORTED_MODULE_2___default.a, {\n    show: true,\n    onHide: props.onCancel\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_Modal__WEBPACK_IMPORTED_MODULE_2___default.a.Header, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_Modal__WEBPACK_IMPORTED_MODULE_2___default.a.Title, null, props.title)), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_Modal__WEBPACK_IMPORTED_MODULE_2___default.a.Body, null, props.body), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_Modal__WEBPACK_IMPORTED_MODULE_2___default.a.Footer, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_3___default.a, {\n    variant: \"success\",\n    size: \"sm\",\n    onClick: props.onConfirm\n  }, translation.COMMON.YES), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_3___default.a, {\n    variant: \"outline-dark\",\n    size: \"sm\",\n    onClick: props.onCancel\n  }, translation.COMMON.CANCEL)));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ConfirmationModal);\n\n//# sourceURL=webpack:///./src/components/common/ConfirmationModal.js?");

/***/ })

}]);