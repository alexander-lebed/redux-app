(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{163:function(e,t,n){"use strict";n.r(t);var r=n(43),a=n.n(r),o=n(44),s=n.n(o),c=n(45),i=n.n(c),u=n(46),l=n.n(u),f=n(47),d=n.n(f),m=n(20),p=n.n(m),v=n(0),h=n.n(v),g=n(29),y=n(322),E=n.n(y),x=n(300),N=n.n(x),C=n(299),b=n.n(C),w=n(59),j=n.n(w),k=n(108),I=n.n(k),_=n(10),O=n(14),R=function(e){function t(){return a()(this,t),i()(this,l()(t).apply(this,arguments))}return d()(t,e),s()(t,[{key:"render",value:function(){var e=this.props,t=e.conversation,n=e.userId,r=e.users,a=e.translation,o=e.history,s=e.showPictureModal,c=e.showDeleteConfirmation,i=t.messages.filter(function(e){return!e.deleted}),u=i.filter(function(e){return!e.read&&e.from._id!==n}),l=i.length>0?i[i.length-1]:null,f=l&&!l.read?"unread-message":"",d=function(){o.push("/conversation?".concat(E.a.stringify({convId:t._id})))};return h.a.createElement("tr",{key:t._id,className:u.length>0?"new-messages-bg":""},h.a.createElement("td",{className:"conversation-td"},h.a.createElement(N.a,{noGutters:!0},h.a.createElement(b.a,{xs:7,sm:10},h.a.createElement(P,{history:o,convId:t._id,userId:n,conversation:t,showPictureModal:s,users:r}),l&&h.a.createElement(N.a,{className:"message-preview d-none d-sm-flex",onClick:d},h.a.createElement(b.a,{xs:4,sm:2,className:"user-from-text",style:{paddingRight:0}},l.from.username,":"),h.a.createElement(b.a,{xs:8,sm:8,style:{paddingLeft:10}},h.a.createElement("div",{className:"conversation-text ".concat(f)},l.text)))),h.a.createElement(b.a,{xs:5,sm:2,className:"conversation-actions",onClick:d},u.length>0&&h.a.createElement(I.a,{variant:"success",style:{marginRight:15}},u.length),Object(O.timestampToHumanDate)(t.timestamp,!1,a),h.a.createElement("i",{className:"far fa-trash-alt",title:a.CONVERSATIONS.DELETE,style:{paddingLeft:10},onClick:function(e){return c(e,t._id)}}))),l&&h.a.createElement(N.a,{className:"message-preview d-flex d-sm-none",onClick:d},h.a.createElement(b.a,{xs:4,sm:2,className:"user-from-text"},l.from.username,":"),h.a.createElement(b.a,{xs:8,sm:8,style:{paddingLeft:10}},h.a.createElement("div",{className:"conversation-text ".concat(f)},l.text)))))}}]),t}(h.a.PureComponent);p()(R,"displayName","ConversationPreview"),t.default=Object(g.b)(function(e){return{user:e.authentication.user,users:e.users.users,translation:e.translation}},{})(R);var P=function(e){function t(){return a()(this,t),i()(this,l()(t).apply(this,arguments))}return d()(t,e),s()(t,[{key:"render",value:function(){var e=this.props,t=e.history,n=e.convId,r=e.conversation,a=e.userId,o=e.users,s=e.showPictureModal,c=r.users.map(function(e){return e._id}),i=o.filter(function(e){return c.includes(e._id)});i.length>1&&(i=i.filter(function(e){return e._id!==a}));var u,l=i[0];u=1===i.length?l.pictureUrl?l.pictureUrl:"/images/default-profile.jpg":"/images/conversation-group.jpg";return h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"profile-picture-wrapper"},1===i.length?h.a.createElement(j.a,{roundedCircle:!0,style:l.online?_.ONLINE_STYLE:{},className:"profile-picture",src:u,onClick:function(){return s(u)}}):h.a.createElement(j.a,{roundedCircle:!0,style:i.some(function(e){return e.online})?_.ONLINE_STYLE:{},className:"profile-picture",src:u,onClick:function(){return s(u)}})),h.a.createElement("div",{style:{color:"#343a40"},onClick:function(){t.push("/conversation?".concat(E.a.stringify({convId:n})))}},1===i.length?h.a.createElement("strong",null,l.username):h.a.createElement("div",{className:"cut-senders-text"},i.map(function(e){return h.a.createElement("strong",{key:e._id,style:e.online?{color:_.MAIN_COLOR}:{}},e.username)}).reduce(function(e,t){return[e,", ",t]}))))}}]),t}(h.a.PureComponent);p()(P,"displayName","SenderInfo")},299:function(e,t,n){"use strict";var r=n(4);t.__esModule=!0,t.default=void 0;var a=r(n(6)),o=r(n(7)),s=r(n(11)),c=r(n(0)),i=n(16),u=["xl","lg","md","sm","xs"],l=c.default.forwardRef(function(e,t){var n=e.bsPrefix,r=e.className,l=e.as,f=void 0===l?"div":l,d=(0,o.default)(e,["bsPrefix","className","as"]),m=(0,i.useBootstrapPrefix)(n,"col"),p=[],v=[];return u.forEach(function(e){var t,n,r,a=d[e];if(delete d[e],null!=a&&"object"==typeof a){var o=a.span;t=void 0===o||o,n=a.offset,r=a.order}else t=a;var s="xs"!==e?"-"+e:"";null!=t&&p.push(!0===t?""+m+s:""+m+s+"-"+t),null!=r&&v.push("order"+s+"-"+r),null!=n&&v.push("offset"+s+"-"+n)}),p.length||p.push(m),c.default.createElement(f,(0,a.default)({},d,{ref:t,className:s.default.apply(void 0,[r].concat(p,v))}))});l.displayName="Col";var f=l;t.default=f,e.exports=t.default},300:function(e,t,n){"use strict";var r=n(4);t.__esModule=!0,t.default=void 0;var a=r(n(6)),o=r(n(7)),s=r(n(28)),c=r(n(11)),i=r(n(0)),u=n(16),l=function(e){function t(){return e.apply(this,arguments)||this}return(0,s.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.bsPrefix,n=e.noGutters,r=e.as,s=void 0===r?"div":r,u=e.className,l=(0,o.default)(e,["bsPrefix","noGutters","as","className"]);return i.default.createElement(s,(0,a.default)({},l,{className:(0,c.default)(u,t,n&&"no-gutters")}))},t}(i.default.Component);l.defaultProps={noGutters:!1};var f=(0,u.createBootstrapComponent)(l,"row");t.default=f,e.exports=t.default},322:function(e,t,n){"use strict";var r=n(326),a=n(105),o=n(327);function s(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function c(e){var t=e.indexOf("?");return-1===t?"":e.slice(t+1)}function i(e,t){var n=function(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return function(e,n,r){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};default:return function(e,t,n){void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t=a({arrayFormat:"none"},t)),r=Object.create(null);return"string"!=typeof e?r:(e=e.trim().replace(/^[?#&]/,""))?(e.split("&").forEach(function(e){var t=e.replace(/\+/g," ").split("="),a=t.shift(),s=t.length>0?t.join("="):void 0;s=void 0===s?null:o(s),n(o(a),s,r)}),Object.keys(r).sort().reduce(function(e,t){var n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort(function(e,t){return Number(e)-Number(t)}).map(function(e){return t[e]}):t}(n):e[t]=n,e},Object.create(null))):r}t.extract=c,t.parse=i,t.stringify=function(e,t){!1===(t=a({encode:!0,strict:!0,arrayFormat:"none"},t)).sort&&(t.sort=function(){});var n=function(e){switch(e.arrayFormat){case"index":return function(t,n,r){return null===n?[s(t,e),"[",r,"]"].join(""):[s(t,e),"[",s(r,e),"]=",s(n,e)].join("")};case"bracket":return function(t,n){return null===n?s(t,e):[s(t,e),"[]=",s(n,e)].join("")};default:return function(t,n){return null===n?s(t,e):[s(t,e),"=",s(n,e)].join("")}}}(t);return e?Object.keys(e).sort(t.sort).map(function(r){var a=e[r];if(void 0===a)return"";if(null===a)return s(r,t);if(Array.isArray(a)){var o=[];return a.slice().forEach(function(e){void 0!==e&&o.push(n(r,e,o.length))}),o.join("&")}return s(r,t)+"="+s(a,t)}).filter(function(e){return e.length>0}).join("&"):""},t.parseUrl=function(e,t){return{url:e.split("?")[0]||"",query:i(c(e),t)}}},326:function(e,t,n){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},327:function(e,t,n){"use strict";var r=new RegExp("%[a-f0-9]{2}","gi"),a=new RegExp("(%[a-f0-9]{2})+","gi");function o(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],o(n),o(r))}function s(e){try{return decodeURIComponent(e)}catch(a){for(var t=e.match(r),n=1;n<t.length;n++)t=(e=o(t,n).join("")).match(r);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},n=a.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var r=s(n[0]);r!==n[0]&&(t[n[0]]=r)}n=a.exec(e)}t["%C2"]="�";for(var o=Object.keys(t),c=0;c<o.length;c++){var i=o[c];e=e.replace(new RegExp(i,"g"),t[i])}return e}(e)}}}}]);