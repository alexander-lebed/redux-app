{"version":3,"sources":["webpack:///./src/components/Messages/Message.js"],"names":["Message","_this$props","this","props","message","user","users","deleteMessage","translation","isMessageFromCurrentUser","_id","messageUser","find","e","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","className","react_bootstrap_Image__WEBPACK_IMPORTED_MODULE_8___default","roundedCircle","style","src","username","timestampToHumanDate","timestamp","SENDING","react_linkify__WEBPACK_IMPORTED_MODULE_7___default","properties","target","text","id","title","DELETE","color","onClick","React","PureComponent","__webpack_exports__","Object","react_redux__WEBPACK_IMPORTED_MODULE_6__","state"],"mappings":"8QAoBMA,2IACO,IAAAC,EACsDC,KADtDC,MACEC,EADFH,EAAAG,QACWC,EADXJ,EAAAI,KACiBC,EADjBL,EAAAK,MACwBC,EADxBN,EAAAM,cACuCC,EADvCP,EAAAO,YAECC,EAA2BL,aAAqBC,EAAtDK,IACMC,EAAoBL,EAAAM,KAAW,SAAAC,GAAC,OAAIA,QAAUT,OAAdM,MACtC,OACII,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,2BACXH,EAAAC,EAAAC,cAAAE,EAAAH,EAAA,CACII,eADJ,EAEIC,MAAOT,wBAFX,GAGIM,UAHJ,kBAIII,IAAKV,aAAyBA,EAAzBA,WAAkD,iCAG/DG,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACXH,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,gBACXb,OAFTkB,UAIIR,EAAAC,EAAAC,cAAA,QAAMC,UAAU,gBACXb,YAAoBmB,+BAAqBnB,EAADoB,WAAA,EAAxCpB,GAAiFI,WAL1FiB,SAOIX,EAAAC,EAAAC,cAAAU,EAAAX,EAAA,CAASY,WAAY,CAACC,OAAQ,WAC1Bd,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACVb,EAVjByB,QAcKpB,GACDK,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,KACIc,GADJ,SAEIb,UAFJ,qCAGIc,MAAOvB,WAHXwB,OAIIZ,MAAO,CAACa,MAAO,QACfC,QAAS,kBAAM3B,EAAcH,EAApBM,kBApCfyB,IAAMC,eA8CbC,EAAA,QAAAC,OAAAC,EAAA,EAAAD,CACX,SAAAE,GAAK,MAAK,CACNnC,KAAMmC,iBADAnC,KAENC,MAAOkC,QAFDlC,MAGNE,YAAagC,EAAMhC,cAEvB,CAAED,+BANS,CAAfP","file":"32.chunk.1.0.0.js","sourcesContent":["// @flow\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Linkify from 'react-linkify';\r\nimport Image from 'react-bootstrap/Image';\r\nimport { deleteMessage } from '../../redux/reducers/conversations';\r\nimport { timestampToHumanDate } from '../../utils';\r\nimport { ONLINE_STYLE } from '../../constants';\r\nimport type { User, Message as MessageType, Translation } from '../../types';\r\n\r\n\r\ntype Props = {\r\n    message: MessageType,\r\n    // redux props:\r\n    user: User,\r\n    users: Array<User>,\r\n    translation: Translation,\r\n    deleteMessage: Function,\r\n}\r\n\r\nclass Message extends React.PureComponent<Props, void> {\r\n    render() {\r\n        const {message, user, users, deleteMessage, translation} = this.props;\r\n        const isMessageFromCurrentUser = message.from._id === user._id;\r\n        const messageUser: User = users.find(e => e._id === message.from._id);\r\n        return (\r\n            <div>\r\n                <div className='profile-picture-wrapper'>\r\n                    <Image\r\n                        roundedCircle\r\n                        style={messageUser.online ? ONLINE_STYLE : {}}\r\n                        className='profile-picture'\r\n                        src={messageUser.pictureUrl ? messageUser.pictureUrl : '/images/default-profile.jpg'}\r\n                    />\r\n                </div>\r\n                <div className='message-top'>\r\n                    <div>\r\n                        <span className='message-from'>\r\n                            {message.from.username}\r\n                        </span>\r\n                        <span className='message-time'>\r\n                            {message.timestamp ? timestampToHumanDate(message.timestamp, true, translation) : translation.MESSAGES.SENDING}\r\n                        </span>\r\n                        <Linkify properties={{target: '_blank'}}>\r\n                            <div className='message-text'>\r\n                                {message.text}\r\n                            </div>\r\n                        </Linkify>\r\n                    </div>\r\n                    {isMessageFromCurrentUser &&\r\n                    <div>\r\n                        <i\r\n                            id='delete'\r\n                            className='far fa-trash-alt pull-right cursor'\r\n                            title={translation.MESSAGES.DELETE}\r\n                            style={{color: 'grey'}}\r\n                            onClick={() => deleteMessage(message._id)}\r\n                        />\r\n                    </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(\r\n    state => ({\r\n        user: state.authentication.user,\r\n        users: state.users.users,\r\n        translation: state.translation\r\n    }),\r\n    { deleteMessage }\r\n)(Message);"],"sourceRoot":""}