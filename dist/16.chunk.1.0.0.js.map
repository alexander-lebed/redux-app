{"version":3,"sources":["webpack:///./src/components/common/PeopleSelector.js","webpack:///./src/components/Messages/Message.js","webpack:///./src/components/Messages/MessageForm.js","webpack:///./src/components/Messages/Conversation.js","webpack:///./node_modules/react-bootstrap/Container.js","webpack:///./node_modules/react-bootstrap/InputGroup.js","webpack:///./node_modules/react-bootstrap/Table.js","webpack:///./node_modules/query-string/index.js","webpack:///./node_modules/react-bootstrap/Jumbotron.js","webpack:///./node_modules/strict-uri-encode/index.js","webpack:///./node_modules/decode-uri-component/index.js"],"names":["PeopleSelector","_React$PureComponent","props","_this","_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default","this","_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default","_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default","call","_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default","_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default","user","people","state","map","e","_id","includes","setState","filter","selectedUserIds","users","selectedUsers","searchText","_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default","_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default","key","value","_this2","_this$state","_this$props","excludedUserIds","submitButtonText","onSubmit","onCancel","translation","orderBy","react__WEBPACK_IMPORTED_MODULE_7___default","a","createElement","className","react_bootstrap_InputGroup__WEBPACK_IMPORTED_MODULE_13___default","size","Prepend","react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_12___default","Control","placeholder","SEARCH_PEOPLE","aria-label","aria-describedby","onChange","react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_14___default","variant","onClick","CANCEL","disabled","SUBMIT","length","NO_RESULTS","react_bootstrap_Table__WEBPACK_IMPORTED_MODULE_11___default","hover","selected","id","style","padding","toggleUser","react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_9___default","noGutters","react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_10___default","xs","react_bootstrap_Image__WEBPACK_IMPORTED_MODULE_15___default","roundedCircle","src","fontSize","fontWeight","username","color","online","concat","LAST_SEEN","timestampToHumanDate","lastTime","marginTop","type","checked","React","PureComponent","__webpack_exports__","Object","react_redux__WEBPACK_IMPORTED_MODULE_8__","Message","message","deleteMessage","isMessageFromCurrentUser","messageUser","find","react__WEBPACK_IMPORTED_MODULE_5___default","react_bootstrap_Image__WEBPACK_IMPORTED_MODULE_8___default","timestamp","SENDING","react_linkify__WEBPACK_IMPORTED_MODULE_7___default","properties","target","text","title","DELETE","react_redux__WEBPACK_IMPORTED_MODULE_6__","MessageForm","_React$Component","params","evt","shiftKey","messageText","conversation","from","read","deleted","saveConversation","showEmoji","input","textAreaRef","current","selectionStart","selectionEnd","updatedText","messageStyle","paddingRight","emojiStyle","paddingLeft","react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_10___default","react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_11___default","sm","Group","controlId","display","marginBottom","flex","ref","as","autoFocus","rows","MESSAGES","WRITE_MESSAGE","onKeyPress","handleKeyPress","Text","WRITE_MESSAGE_INFO","emoji_mart__WEBPACK_IMPORTED_MODULE_9__","set","emoji","onEmojiClick","PICK_EMOJI","native","setText","Component","Conversation","scrollableTable","el","query","queryString","location","search","convId","userIds","getConversation","members","Array","getConversationWithUsers","filteredMessages","messages","result","show","showModal","alertSuccess","showMembersModal","MEMBERS_EDITED","notDeleted","synced","notSynced","orderedSynced","renderRows","messageArr","index","rowClass","_Message__WEBPACK_IMPORTED_MODULE_24__","react_bootstrap_Table__WEBPACK_IMPORTED_MODULE_13___default","isConversationsLoaded","getConversationsByUser","setTimeout","markAsRead","prevProps","_this3","scrollConversationToBottom","prevMessages","currentMessages","clearInterval","conversationCleanup","_this4","_this$props2","conversations","isConversationLoaded","conversationsExist","some","content","paddingTop","_common_Spinner__WEBPACK_IMPORTED_MODULE_22__","renderMessages","_MessageForm__WEBPACK_IMPORTED_MODULE_25__","react_bootstrap_Jumbotron__WEBPACK_IMPORTED_MODULE_18___default","react_bootstrap_Container__WEBPACK_IMPORTED_MODULE_10___default","fluid","react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_11___default","react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_12___default","md","span","offset","lg","react_bootstrap_InputGroup__WEBPACK_IMPORTED_MODULE_14___default","react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_15___default","SEARCH_IN_MESSAGES","onSearch","react_bootstrap_Button__WEBPACK_IMPORTED_MODULE_17___default","marginRight","MANAGE_MEMBERS","react_bootstrap_Modal__WEBPACK_IMPORTED_MODULE_16___default","onHide","Header","closeButton","Title","Body","_common_PeopleSelector__WEBPACK_IMPORTED_MODULE_23__","manageMembers","Footer","NEW_MEMBERS_NOTE","_redux_reducers_conversations__WEBPACK_IMPORTED_MODULE_20__","_interopRequireDefault","__webpack_require__","exports","__esModule","default","_extends2","_objectWithoutPropertiesLoose2","_classnames","_react","_ThemeProvider","Container","forwardRef","_ref","bsPrefix","_ref$as","prefix","useBootstrapPrefix","displayName","defaultProps","_default","module","_inheritsLoose2","_createWithBsPrefix","InputGroup","apply","arguments","prototype","render","_this$props$as","InputGroupAppend","InputGroupPrepend","InputGroupText","DecoratedInputGroup","createBootstrapComponent","Radio","Checkbox","Append","Table","striped","bordered","borderless","responsive","classes","table","responsiveClass","strictUriEncode","objectAssign","decodeComponent","encode","opts","strict","encodeURIComponent","extract","str","queryStart","indexOf","slice","parse","formatter","arrayFormat","accumulator","exec","replace","undefined","parserForArrayFormat","ret","create","trim","split","forEach","param","parts","shift","val","join","keys","sort","reduce","Boolean","isArray","keysSorter","b","Number","stringify","obj","encoderForArrayFormat","val2","push","x","parseUrl","url","Jumbotron","_classes","c","charCodeAt","toString","toUpperCase","singleMatcher","RegExp","multiMatcher","decodeComponents","components","decodeURIComponent","err","left","right","decode","tokens","match","i","encodedURI","TypeError","replaceMap","%FE%FF","%FF%FE","entries","customDecodeURIComponent"],"mappings":"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","file":"16.chunk.1.0.0.js","sourcesContent":["// @flow\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Table from 'react-bootstrap/Table';\r\nimport Form from 'react-bootstrap/Form';\r\nimport InputGroup from 'react-bootstrap/InputGroup';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Image from 'react-bootstrap/Image';\r\nimport { orderBy, timestampToHumanDate } from '../../utils';\r\nimport { ONLINE_STYLE } from '../../constants';\r\nimport type { User, Translation } from '../../types';\r\n\r\ntype Props = {\r\n    excludedUserIds?: Array<string>,\r\n    selectedUserIds?: Array<string>,\r\n    submitButtonText?: string,\r\n    onSubmit: (people: Array<User>) => void,\r\n    onCancel: Function,\r\n    // redux props\r\n    users: Array<User>,\r\n    translation: Translation,\r\n}\r\n\r\ntype State = {\r\n    searchText: string,\r\n    people: Array<User>\r\n}\r\n\r\nexport class PeopleSelector extends React.PureComponent<Props, State> {\r\n    state: State;\r\n    static defaultProps = {\r\n        excludedUserIds: [],\r\n        selectedUserIds: [],\r\n        submitButtonText: ''\r\n    };\r\n    constructor(props: Props) {\r\n        super(props);\r\n        const {selectedUserIds, users} = props;\r\n\r\n        let selectedUsers = [];\r\n        if (selectedUserIds.length > 0) {\r\n            selectedUsers = users.filter(e => selectedUserIds.includes(e._id));\r\n        }\r\n        this.state = {\r\n            searchText: '',\r\n            people: selectedUsers\r\n        }\r\n    }\r\n\r\n    toggleUser = (user: User) => {\r\n        const {people} = this.state;\r\n        if (people.map(e => e._id).includes(user._id)) {\r\n            this.setState({\r\n                people: people.filter(e => e._id !== user._id)\r\n            })\r\n        } else {\r\n            this.setState({\r\n                people: people.concat(user)\r\n            })\r\n        }\r\n    };\r\n\r\n    render() {\r\n        const {people, searchText} = this.state;\r\n        let {users, excludedUserIds, submitButtonText, onSubmit, onCancel, translation} = this.props;\r\n        users = users.filter(e => !excludedUserIds.includes(e._id));\r\n        if (searchText) {\r\n            users = users.filter(e => e.username.toLowerCase().indexOf(searchText.toLowerCase()) !== -1)\r\n        }\r\n        users = orderBy(users, ['username']);\r\n        return (\r\n            <div>\r\n                <div className='people-select-header'>\r\n                    <InputGroup size='sm' className='search'>\r\n                        <InputGroup.Prepend>\r\n                            <i className='fas fa-search' />\r\n                        </InputGroup.Prepend>\r\n                        <Form.Control\r\n                            placeholder={translation.PEOPLE.SEARCH_PEOPLE}\r\n                            aria-label='Search people'\r\n                            aria-describedby='search'\r\n                            className='search-input'\r\n                            value={searchText}\r\n                            onChange={e => this.setState({searchText: e.target.value})}\r\n                        />\r\n                    </InputGroup>\r\n                    <div className='actions'>\r\n                        <Button size='sm' variant='outline-secondary' onClick={onCancel}>\r\n                            {translation.COMMON.CANCEL}\r\n                        </Button>\r\n                        {' '}\r\n                        <Button\r\n                            size='sm'\r\n                            variant='success'\r\n                            disabled={people.length === 0}\r\n                            onClick={() => onSubmit(people)}\r\n                        >\r\n                            {submitButtonText || translation.COMMON.SUBMIT}\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n                {users.length === 0 ? <div className='text-center'>{translation.COMMON.NO_RESULTS}</div> :\r\n                    <Table hover>\r\n                        <tbody>\r\n                            {users.map(user => {\r\n                                const selected = people.map(e => e._id).includes(user._id);\r\n                                return (\r\n                                    <tr key={user._id} id={user._id}>\r\n                                        <td className={selected ? 'active' : ''} style={{padding: 5}} onClick={() => this.toggleUser(user)}>\r\n                                            <Row noGutters>\r\n                                                <Col xs={10}>\r\n                                                    <div className='profile-picture-wrapper'>\r\n                                                        <Image\r\n                                                            roundedCircle\r\n                                                            style={user.online ? ONLINE_STYLE : {}}\r\n                                                            className='profile-picture'\r\n                                                            src={user.pictureUrl ? user.pictureUrl : '/images/default-profile.jpg'}\r\n                                                        />\r\n                                                    </div>\r\n                                                    <div style={{fontSize: 13}}>\r\n                                                        <span style={{fontWeight: 700}}>\r\n                                                            {user.username}\r\n                                                        </span>\r\n                                                        <div style={{color: 'grey'}}>\r\n                                                            {!user.online && `${translation.PEOPLE.LAST_SEEN} ${timestampToHumanDate(user.lastTime, false, translation)}`}\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </Col>\r\n                                                <Col xs={2}>\r\n                                                    <div className='material-switch pull-right' style={{marginTop: 12}}>\r\n                                                        <input\r\n                                                            type='checkbox'\r\n                                                            checked={selected}\r\n                                                            onChange={() => {}}\r\n                                                        />\r\n                                                        <label className='label-success' />\r\n                                                    </div>\r\n                                                </Col>\r\n                                            </Row>\r\n                                        </td>\r\n                                    </tr>\r\n                                )\r\n                            })}\r\n                        </tbody>\r\n                    </Table>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(\r\n    state => ({\r\n        users: state.users.users,\r\n        translation: state.translation\r\n    })\r\n)(PeopleSelector);\r\n","// @flow\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Linkify from 'react-linkify';\r\nimport Image from 'react-bootstrap/Image';\r\nimport { deleteMessage } from '../../redux/reducers/conversations';\r\nimport { timestampToHumanDate } from '../../utils';\r\nimport { ONLINE_STYLE } from '../../constants';\r\nimport type { User, Message as MessageType, Translation } from '../../types';\r\n\r\n\r\ntype Props = {\r\n    message: MessageType,\r\n    // redux props:\r\n    user: User,\r\n    users: Array<User>,\r\n    translation: Translation,\r\n    deleteMessage: Function,\r\n}\r\n\r\nclass Message extends React.PureComponent<Props, void> {\r\n    render() {\r\n        const {message, user, users, deleteMessage, translation} = this.props;\r\n        const isMessageFromCurrentUser = message.from._id === user._id;\r\n        const messageUser: User = users.find(e => e._id === message.from._id);\r\n        return (\r\n            <div>\r\n                <div className='profile-picture-wrapper'>\r\n                    <Image\r\n                        roundedCircle\r\n                        style={messageUser.online ? ONLINE_STYLE : {}}\r\n                        className='profile-picture'\r\n                        src={messageUser.pictureUrl ? messageUser.pictureUrl : '/images/default-profile.jpg'}\r\n                    />\r\n                </div>\r\n                <div className='message-top'>\r\n                    <div>\r\n                        <span className='message-from'>\r\n                            {message.from.username}\r\n                        </span>\r\n                        <span className='message-time'>\r\n                            {message.timestamp ? timestampToHumanDate(message.timestamp, true, translation) : translation.MESSAGES.SENDING}\r\n                        </span>\r\n                        <Linkify properties={{target: '_blank'}}>\r\n                            <div className='message-text'>\r\n                                {message.text}\r\n                            </div>\r\n                        </Linkify>\r\n                    </div>\r\n                    {isMessageFromCurrentUser &&\r\n                    <div>\r\n                        <i\r\n                            id='delete'\r\n                            className='far fa-trash-alt pull-right cursor'\r\n                            title={translation.MESSAGES.DELETE}\r\n                            style={{color: 'grey'}}\r\n                            onClick={() => deleteMessage(message._id)}\r\n                        />\r\n                    </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(\r\n    state => ({\r\n        user: state.authentication.user,\r\n        users: state.users.users,\r\n        translation: state.translation\r\n    }),\r\n    { deleteMessage }\r\n)(Message);","// @flow\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Picker, Emoji } from 'emoji-mart';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Form from 'react-bootstrap/Form';\r\nimport { saveConversation } from '../../redux/reducers/conversations';\r\nimport type {Conversation as ConversationType, Message, Translation, User} from '../../types';\r\n\r\ntype Props = {\r\n    user: User,\r\n    conversation: ConversationType,\r\n    translation: Translation,\r\n    saveConversation: Function,\r\n}\r\n\r\ntype State = {\r\n    messageText: string,\r\n    showEmoji: boolean\r\n}\r\n\r\nexport class MessageForm extends React.Component<Props, State> {\r\n\r\n    state: State;\r\n    textAreaRef = React.createRef();\r\n\r\n    constructor(params: Props) {\r\n        super(params);\r\n        this.state = {\r\n            messageText: '',\r\n            showEmoji: false\r\n        };\r\n    }\r\n\r\n    handleKeyPress = (evt: any) => {\r\n        if (evt.key === 'Enter' && !evt.shiftKey) {\r\n            evt.preventDefault();\r\n            if (this.state.messageText) {\r\n                const {user, conversation} = this.props;\r\n                const emptyTime = null; // mark as null to set time on backend\r\n                const message: Message = {\r\n                    from: {_id: user._id, username: user.username},\r\n                    text: this.state.messageText,\r\n                    timestamp: emptyTime,\r\n                    read: false,\r\n                    deleted: false\r\n                };\r\n                conversation.messages.push(message);\r\n                conversation.timestamp = emptyTime;\r\n                this.props.saveConversation(conversation);\r\n                this.setState({\r\n                    messageText: ''}\r\n                );\r\n            }\r\n        }\r\n    };\r\n\r\n    onEmojiClick = () => this.setState({showEmoji: !this.state.showEmoji});\r\n\r\n    setText = (text) => {\r\n        const input = this.textAreaRef.current;\r\n        const {selectionStart, selectionEnd, value} = input;\r\n        const updatedText = `${value.substring(0, selectionStart)}${text}${value.substring(selectionEnd)}`;\r\n        input.focus();\r\n        input.selectionEnd= selectionEnd + 7;\r\n        this.setState({messageText: updatedText});\r\n    };\r\n\r\n    render () {\r\n        const { translation } = this.props;\r\n        const { messageText, showEmoji } = this.state;\r\n        const messageStyle = showEmoji ? {paddingRight: 0} : {};\r\n        const emojiStyle = showEmoji ? {paddingLeft: 0} : {};\r\n        return (\r\n            <Row noGutters>\r\n                <Col xs={12} sm={showEmoji ? 7 : 12} style={messageStyle}>\r\n                    <Form>\r\n                        <Form.Group controlId='message-form' className='message-form' style={{display: 'flex', marginBottom: 2}}>\r\n                            <div style={{flex: 1}}>\r\n                                <Form.Control\r\n                                    id=\"message-textarea\"\r\n                                    ref={this.textAreaRef}\r\n                                    as='textarea'\r\n                                    autoFocus={true}\r\n                                    className='text-area'\r\n                                    rows={4}\r\n                                    placeholder={this.props.translation.MESSAGES.WRITE_MESSAGE}\r\n                                    value={messageText}\r\n                                    onKeyPress={this.handleKeyPress}\r\n                                    onChange={e => this.setState({messageText: e.target.value})}\r\n                                />\r\n                                <Form.Text className='text-muted d-none d-sm-block'>\r\n                                    {this.props.translation.MESSAGES.WRITE_MESSAGE_INFO}\r\n                                </Form.Text>\r\n                            </div>\r\n                            <div className='emoji-select-area'>\r\n                                <Emoji\r\n                                    set='twitter'\r\n                                    size={32}\r\n                                    emoji={showEmoji ? 'grinning' : 'slightly_smiling_face'}\r\n                                    onClick={() => this.onEmojiClick()}\r\n                                />\r\n                            </div>\r\n                        </Form.Group>\r\n                    </Form>\r\n                </Col>\r\n                <Col xs={12} sm={showEmoji ? 5 : 12} style={emojiStyle}>\r\n                    {showEmoji &&\r\n                    <Picker\r\n                        title={translation.MESSAGES.PICK_EMOJI}\r\n                        emoji='monkey'\r\n                        native={true}\r\n                        onClick={emoji => this.setText(emoji.native)}\r\n                    />\r\n                    }\r\n                </Col>\r\n            </Row>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(\r\n    state => ({\r\n        user: state.authentication.user,\r\n        conversation: state.conversations.conversation,\r\n        translation: state.translation\r\n    }),\r\n    { saveConversation }\r\n)(MessageForm);","// @flow\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport queryString from 'query-string';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Table from 'react-bootstrap/Table';\r\nimport InputGroup from 'react-bootstrap/InputGroup';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport Button from 'react-bootstrap/Button'\r\nimport Jumbotron from 'react-bootstrap/Jumbotron';\r\nimport { alertSuccess } from '../../redux/reducers/alerts';\r\nimport { getConversationsByUser, getConversation, getConversationWithUsers, markAsRead, deleteMessage, saveConversation, conversationCleanup } from '../../redux/reducers/conversations';\r\nimport { orderBy } from '../../utils';\r\nimport Spinner from '../common/Spinner';\r\nimport PeopleSelector from '../common/PeopleSelector';\r\nimport Message from './Message';\r\nimport MessageForm from './MessageForm';\r\nimport type { User, Conversation as ConversationType, Message as MessageType, Translation } from '../../types';\r\n\r\n\r\ntype Props = {\r\n    user: User,\r\n    users: Array<User>,\r\n    conversation: ConversationType,\r\n    conversations: Array<ConversationType>,\r\n    isConversationsLoaded: boolean,\r\n    isConversationLoaded: boolean,\r\n    translation: Translation,\r\n    location: Object,\r\n    getConversationsByUser: Function,\r\n    getConversation: Function,\r\n    getConversationWithUsers: Function,\r\n    markAsRead: Function,\r\n    deleteMessage: Function,\r\n    saveConversation: Function,\r\n    conversationCleanup: Function,\r\n    alertSuccess: Function\r\n}\r\n\r\ntype State = {\r\n    showModal: boolean,\r\n    messages: Array<MessageType>,\r\n    filteredMessages: Array<MessageType>,\r\n};\r\n\r\nclass Conversation extends React.Component<Props, State> {\r\n\r\n    state: State;\r\n    interval: IntervalID;\r\n    scrollableTable: Object | null;\r\n\r\n    constructor(params: Props) {\r\n        super(params);\r\n        this.state = {\r\n            showModal: false,\r\n            messages: [],\r\n            filteredMessages: [],\r\n        };\r\n        this.scrollableTable = {};\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (!this.props.isConversationsLoaded) {\r\n            this.props.getConversationsByUser(this.props.user._id);\r\n        }\r\n        this.getConversation();\r\n        setTimeout(() => this.props.markAsRead(), 800);\r\n    }\r\n\r\n    static getDerivedStateFromProps(props, state) {\r\n        if (props.conversation.messages !== state.messages) {\r\n            return {\r\n                messages: props.conversation.messages,\r\n                filteredMessages: props.conversation.messages\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    componentDidUpdate(prevProps: Props) {\r\n        this.scrollConversationToBottom();\r\n        const prevMessages = prevProps.conversation.messages || [];\r\n        const currentMessages = this.props.conversation.messages || [];\r\n        if (prevMessages.length !== currentMessages.length) {\r\n            setTimeout(() => this.props.markAsRead(), 500);\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        clearInterval(this.interval);\r\n        this.props.conversationCleanup();\r\n    }\r\n\r\n    scrollConversationToBottom = () => {\r\n        if (this.scrollableTable) {\r\n            const el = this.scrollableTable;\r\n            const isScrolledToBottom = el.scrollHeight - el.clientHeight <= el.scrollTop + 1;\r\n            if (!isScrolledToBottom) {\r\n                el.scrollTop = el.scrollHeight - el.clientHeight;\r\n            }\r\n        }\r\n    };\r\n\r\n    getConversation = () => {\r\n        const query = queryString.parse(this.props.location.search);\r\n        const {convId, userIds} = query;\r\n        if (convId) {\r\n            this.props.getConversation(convId);\r\n        } else if (userIds) {\r\n            let members = [];\r\n            if (Array.isArray(userIds)) {\r\n                members = userIds.concat(this.props.user._id);\r\n            } else {\r\n                const isConvWithOneself = this.props.user._id === userIds;\r\n                members = isConvWithOneself ? [userIds] : [this.props.user._id, userIds];\r\n            }\r\n            this.props.getConversationWithUsers(members);\r\n        }\r\n    };\r\n\r\n    onSearch = (value) => {\r\n        if (value === '') {\r\n            this.setState({\r\n                filteredMessages: this.props.conversation.messages // back to original list\r\n            });\r\n        } else {\r\n            const result = this.props.conversation.messages.filter(message => {\r\n                return message.text.toLowerCase().indexOf(value.toLowerCase()) !== -1;\r\n            });\r\n            this.setState({\r\n                filteredMessages: result\r\n            });\r\n        }\r\n    };\r\n\r\n    showMembersModal = (show: boolean) => this.setState({showModal: show});\r\n\r\n    manageMembers = (people: Array<User>) => {\r\n        const {conversation, saveConversation, alertSuccess, translation} = this.props;\r\n        const users = people.map(e => ({_id: e._id, username: e.username}));\r\n        conversation.users = users;\r\n        saveConversation(conversation);\r\n        this.showMembersModal(false);\r\n        alertSuccess(translation.MESSAGES.MEMBERS_EDITED(users.map(e => e.username)));\r\n    };\r\n\r\n    render() {\r\n        const {user, conversation, conversations, isConversationsLoaded, isConversationLoaded, translation} = this.props;\r\n\r\n        const conversationsExist = conversations.some(e => e._id === conversation._id);\r\n        const isLoading = !isConversationsLoaded || !isConversationLoaded;\r\n\r\n        let content = null;\r\n        if (isLoading) {\r\n            content = (\r\n                <div style={{paddingTop: '50vh'}}>\r\n                    <Spinner />\r\n                </div>\r\n            )\r\n        } else if (conversationsExist) {\r\n            const userIsMember = conversation.users.map(e => e._id).includes(user._id);\r\n            if (userIsMember) {\r\n                content = (\r\n                    <div>\r\n                        {this.renderMessages()}\r\n                        <MessageForm />\r\n                    </div>\r\n                );\r\n            } else {\r\n                content = (\r\n                    <Jumbotron className='text-center'>\r\n                        <p>{translation.MESSAGES.YOU_NOT_MEMBER}</p>\r\n                    </Jumbotron>\r\n                );\r\n            }\r\n        } else {\r\n            content = (\r\n                <Jumbotron className='text-center'>\r\n                    <p>{translation.CONVERSATIONS.CONVERSATION_NOT_FOUND}</p>\r\n                </Jumbotron>\r\n            )\r\n        }\r\n        return (\r\n            <Container fluid>\r\n                <Row>\r\n                    <Col md={{span: 10, offset: 1}} lg={{span: 8, offset: 2}}>\r\n                        <div className='header'>\r\n                            <div style={{color: 'grey'}}>\r\n                                <div style={{color: 'grey'}}>\r\n                                    <InputGroup size='sm' className='search-container'>\r\n                                        <InputGroup.Prepend>\r\n                                            <i className='fas fa-search' />\r\n                                        </InputGroup.Prepend>\r\n                                        <Form.Control\r\n                                            placeholder={translation.CONVERSATIONS.SEARCH_IN_MESSAGES}\r\n                                            aria-label='Search messages'\r\n                                            aria-describedby='search'\r\n                                            className='search-input'\r\n                                            onChange={e => this.onSearch(e.target.value)}\r\n                                        />\r\n                                    </InputGroup>\r\n                                </div>\r\n                            </div>\r\n                            <Button\r\n                                variant='outline-dark'\r\n                                className='d-none d-sm-block'\r\n                                size='sm'\r\n                                onClick={() => this.showMembersModal(true)}\r\n                            >\r\n                                <i className='fa fa-users fa-lg' style={{marginRight: 8}} />\r\n                                {translation.MESSAGES.MANAGE_MEMBERS}\r\n                            </Button>\r\n                            <Button\r\n                                variant='outline-dark'\r\n                                className='d-block d-sm-none btn-mobile-icon'\r\n                                title={translation.MESSAGES.MANAGE_MEMBERS}\r\n                                onClick={() => this.showMembersModal(true)}\r\n                            >\r\n                                <i className='fa fa-users fa-lg' />\r\n                            </Button>\r\n                        </div>\r\n                        {\r\n                            content\r\n                        }\r\n                        {conversation.users &&\r\n                        <Modal\r\n                            size='lg'\r\n                            show={this.state.showModal}\r\n                            onHide={() => this.showMembersModal(false)}\r\n                        >\r\n                            <Modal.Header closeButton>\r\n                                <Modal.Title>{translation.MESSAGES.MANAGE_MEMBERS}</Modal.Title>\r\n                            </Modal.Header>\r\n                            <Modal.Body>\r\n                                <PeopleSelector\r\n                                    selectedUserIds={conversation.users.map(e => e._id)}\r\n                                    onSubmit={(people) => this.manageMembers(people)}\r\n                                    onCancel={() => this.showMembersModal(false)}\r\n                                />\r\n                            </Modal.Body>\r\n                            <Modal.Footer className='manage-people-footer text-danger'>\r\n                                <i className='fas fa-exclamation-triangle' style={{marginRight: 8}}/> {translation.MESSAGES.NEW_MEMBERS_NOTE}\r\n                            </Modal.Footer>\r\n                        </Modal>\r\n                        }\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n        )\r\n    }\r\n\r\n    renderMessages = () => {\r\n        const messages = this.state.filteredMessages;\r\n        const notDeleted = (messages.filter(e => !e.deleted));\r\n        let synced = [];\r\n        let notSynced = [];\r\n        notDeleted.forEach(message => {\r\n            if (message.timestamp) {\r\n                synced.push(message);\r\n            } else {\r\n                notSynced.push(message);\r\n            }\r\n        });\r\n        const orderedSynced = orderBy(synced, 'timestamp');\r\n        const renderRows = (messageArr: Array<MessageType>) => {\r\n            return messageArr.map((message, index) => {\r\n                const rowClass = !message.read ? 'unread-message' : '';\r\n                return (\r\n                    <tr key={message._id || index} className={rowClass}>\r\n                        <td style={{padding: 8}}>\r\n                            <Message message={message} />\r\n                        </td>\r\n                    </tr>\r\n                )\r\n            })\r\n        };\r\n        return (\r\n            <div className='messages-table' ref={(e) => {this.scrollableTable = e}}>\r\n                <Table>\r\n                    <tbody>\r\n                        {renderRows(orderedSynced)}\r\n                        {renderRows(notSynced)}\r\n                    </tbody>\r\n                </Table>\r\n            </div>\r\n        )\r\n    };\r\n}\r\n\r\nexport default connect(\r\n    state => ({\r\n        user: state.authentication.user,\r\n        users: state.users.users,\r\n        conversation: state.conversations.conversation,\r\n        conversations: state.conversations.conversations,\r\n        isConversationsLoaded: state.conversations.isConversationsLoaded,\r\n        isConversationLoaded: state.conversations.isConversationLoaded,\r\n        translation: state.translation\r\n    }),\r\n    { getConversationsByUser, getConversation, getConversationWithUsers, markAsRead, deleteMessage, saveConversation, conversationCleanup, alertSuccess }\r\n)(Conversation);","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutPropertiesLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutPropertiesLoose\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _ThemeProvider = require(\"./ThemeProvider\");\n\nvar defaultProps = {\n  fluid: false\n};\n\nvar Container = _react.default.forwardRef( // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\nfunction (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      fluid = _ref.fluid,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      className = _ref.className,\n      props = (0, _objectWithoutPropertiesLoose2.default)(_ref, [\"bsPrefix\", \"fluid\", \"as\", \"className\"]);\n  var prefix = (0, _ThemeProvider.useBootstrapPrefix)(bsPrefix, 'container');\n  return _react.default.createElement(Component, (0, _extends2.default)({\n    ref: ref\n  }, props, {\n    className: (0, _classnames.default)(className, fluid ? prefix + \"-fluid\" : prefix)\n  }));\n});\n\nContainer.displayName = 'Container';\nContainer.defaultProps = defaultProps;\nvar _default = Container;\nexports.default = _default;\nmodule.exports = exports[\"default\"];","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutPropertiesLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutPropertiesLoose\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createWithBsPrefix = _interopRequireDefault(require(\"./utils/createWithBsPrefix\"));\n\nvar _ThemeProvider = require(\"./ThemeProvider\");\n\n/**\n *\n * @property {InputGroupAppend} Append\n * @property {InputGroupPrepend} Prepend\n * @property {InputGroupText} Text\n * @property {InputGroupRadio} Radio\n * @property {InputGroupCheckbox} Checkbox\n */\nvar InputGroup =\n/*#__PURE__*/\nfunction (_React$Component) {\n  (0, _inheritsLoose2.default)(InputGroup, _React$Component);\n\n  function InputGroup() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = InputGroup.prototype;\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        bsPrefix = _this$props.bsPrefix,\n        size = _this$props.size,\n        className = _this$props.className,\n        _this$props$as = _this$props.as,\n        Component = _this$props$as === void 0 ? 'div' : _this$props$as,\n        props = (0, _objectWithoutPropertiesLoose2.default)(_this$props, [\"bsPrefix\", \"size\", \"className\", \"as\"]);\n    return _react.default.createElement(Component, (0, _extends2.default)({}, props, {\n      className: (0, _classnames.default)(className, bsPrefix, size && bsPrefix + \"-\" + size)\n    }));\n  };\n\n  return InputGroup;\n}(_react.default.Component);\n\nvar InputGroupAppend = (0, _createWithBsPrefix.default)('input-group-append');\nvar InputGroupPrepend = (0, _createWithBsPrefix.default)('input-group-prepend');\nvar InputGroupText = (0, _createWithBsPrefix.default)('input-group-text', {\n  Component: 'span'\n});\n\nvar InputGroupCheckbox = function InputGroupCheckbox(props) {\n  return _react.default.createElement(InputGroupText, null, _react.default.createElement(\"input\", (0, _extends2.default)({\n    type: \"checkbox\"\n  }, props)));\n};\n\nvar InputGroupRadio = function InputGroupRadio(props) {\n  return _react.default.createElement(InputGroupText, null, _react.default.createElement(\"input\", (0, _extends2.default)({\n    type: \"radio\"\n  }, props)));\n};\n\nvar DecoratedInputGroup = (0, _ThemeProvider.createBootstrapComponent)(InputGroup, 'input-group');\nDecoratedInputGroup.Text = InputGroupText;\nDecoratedInputGroup.Radio = InputGroupRadio;\nDecoratedInputGroup.Checkbox = InputGroupCheckbox;\nDecoratedInputGroup.Append = InputGroupAppend;\nDecoratedInputGroup.Prepend = InputGroupPrepend;\nvar _default = DecoratedInputGroup;\nexports.default = _default;\nmodule.exports = exports[\"default\"];","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutPropertiesLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutPropertiesLoose\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _ThemeProvider = require(\"./ThemeProvider\");\n\nvar Table =\n/*#__PURE__*/\nfunction (_React$Component) {\n  (0, _inheritsLoose2.default)(Table, _React$Component);\n\n  function Table() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = Table.prototype;\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        bsPrefix = _this$props.bsPrefix,\n        className = _this$props.className,\n        striped = _this$props.striped,\n        bordered = _this$props.bordered,\n        borderless = _this$props.borderless,\n        hover = _this$props.hover,\n        size = _this$props.size,\n        variant = _this$props.variant,\n        responsive = _this$props.responsive,\n        props = (0, _objectWithoutPropertiesLoose2.default)(_this$props, [\"bsPrefix\", \"className\", \"striped\", \"bordered\", \"borderless\", \"hover\", \"size\", \"variant\", \"responsive\"]);\n    var classes = (0, _classnames.default)(bsPrefix, className, variant && bsPrefix + \"-\" + variant, size && bsPrefix + \"-\" + size, striped && bsPrefix + \"-striped\", bordered && bsPrefix + \"-bordered\", borderless && bsPrefix + \"-borderless\", hover && bsPrefix + \"-hover\");\n\n    var table = _react.default.createElement(\"table\", (0, _extends2.default)({}, props, {\n      className: classes\n    }));\n\n    if (responsive) {\n      var responsiveClass = bsPrefix + \"-responsive\";\n\n      if (typeof responsive === 'string') {\n        responsiveClass = responsiveClass + \"-\" + responsive;\n      }\n\n      return _react.default.createElement(\"div\", {\n        className: responsiveClass\n      }, table);\n    }\n\n    return table;\n  };\n\n  return Table;\n}(_react.default.Component);\n\nvar _default = (0, _ThemeProvider.createBootstrapComponent)(Table, 'table');\n\nexports.default = _default;\nmodule.exports = exports[\"default\"];","'use strict';\nvar strictUriEncode = require('strict-uri-encode');\nvar objectAssign = require('object-assign');\nvar decodeComponent = require('decode-uri-component');\n\nfunction encoderForArrayFormat(opts) {\n\tswitch (opts.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn function (key, value, index) {\n\t\t\t\treturn value === null ? [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[',\n\t\t\t\t\tindex,\n\t\t\t\t\t']'\n\t\t\t\t].join('') : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[',\n\t\t\t\t\tencode(index, opts),\n\t\t\t\t\t']=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn function (key, value) {\n\t\t\t\treturn value === null ? encode(key, opts) : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[]=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn function (key, value) {\n\t\t\t\treturn value === null ? encode(key, opts) : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\t}\n}\n\nfunction parserForArrayFormat(opts) {\n\tvar result;\n\n\tswitch (opts.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tresult = /\\[(\\d*)\\]$/.exec(key);\n\n\t\t\t\tkey = key.replace(/\\[\\d*\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = {};\n\t\t\t\t}\n\n\t\t\t\taccumulator[key][result[1]] = value;\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tresult = /(\\[\\])$/.exec(key);\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t} else if (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = [value];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\t}\n}\n\nfunction encode(value, opts) {\n\tif (opts.encode) {\n\t\treturn opts.strict ? strictUriEncode(value) : encodeURIComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction keysSorter(input) {\n\tif (Array.isArray(input)) {\n\t\treturn input.sort();\n\t} else if (typeof input === 'object') {\n\t\treturn keysSorter(Object.keys(input)).sort(function (a, b) {\n\t\t\treturn Number(a) - Number(b);\n\t\t}).map(function (key) {\n\t\t\treturn input[key];\n\t\t});\n\t}\n\n\treturn input;\n}\n\nfunction extract(str) {\n\tvar queryStart = str.indexOf('?');\n\tif (queryStart === -1) {\n\t\treturn '';\n\t}\n\treturn str.slice(queryStart + 1);\n}\n\nfunction parse(str, opts) {\n\topts = objectAssign({arrayFormat: 'none'}, opts);\n\n\tvar formatter = parserForArrayFormat(opts);\n\n\t// Create an object with no prototype\n\t// https://github.com/sindresorhus/query-string/issues/47\n\tvar ret = Object.create(null);\n\n\tif (typeof str !== 'string') {\n\t\treturn ret;\n\t}\n\n\tstr = str.trim().replace(/^[?#&]/, '');\n\n\tif (!str) {\n\t\treturn ret;\n\t}\n\n\tstr.split('&').forEach(function (param) {\n\t\tvar parts = param.replace(/\\+/g, ' ').split('=');\n\t\t// Firefox (pre 40) decodes `%3D` to `=`\n\t\t// https://github.com/sindresorhus/query-string/pull/37\n\t\tvar key = parts.shift();\n\t\tvar val = parts.length > 0 ? parts.join('=') : undefined;\n\n\t\t// missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tval = val === undefined ? null : decodeComponent(val);\n\n\t\tformatter(decodeComponent(key), val, ret);\n\t});\n\n\treturn Object.keys(ret).sort().reduce(function (result, key) {\n\t\tvar val = ret[key];\n\t\tif (Boolean(val) && typeof val === 'object' && !Array.isArray(val)) {\n\t\t\t// Sort object keys, not values\n\t\t\tresult[key] = keysSorter(val);\n\t\t} else {\n\t\t\tresult[key] = val;\n\t\t}\n\n\t\treturn result;\n\t}, Object.create(null));\n}\n\nexports.extract = extract;\nexports.parse = parse;\n\nexports.stringify = function (obj, opts) {\n\tvar defaults = {\n\t\tencode: true,\n\t\tstrict: true,\n\t\tarrayFormat: 'none'\n\t};\n\n\topts = objectAssign(defaults, opts);\n\n\tif (opts.sort === false) {\n\t\topts.sort = function () {};\n\t}\n\n\tvar formatter = encoderForArrayFormat(opts);\n\n\treturn obj ? Object.keys(obj).sort(opts.sort).map(function (key) {\n\t\tvar val = obj[key];\n\n\t\tif (val === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (val === null) {\n\t\t\treturn encode(key, opts);\n\t\t}\n\n\t\tif (Array.isArray(val)) {\n\t\t\tvar result = [];\n\n\t\t\tval.slice().forEach(function (val2) {\n\t\t\t\tif (val2 === undefined) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tresult.push(formatter(key, val2, result.length));\n\t\t\t});\n\n\t\t\treturn result.join('&');\n\t\t}\n\n\t\treturn encode(key, opts) + '=' + encode(val, opts);\n\t}).filter(function (x) {\n\t\treturn x.length > 0;\n\t}).join('&') : '';\n};\n\nexports.parseUrl = function (str, opts) {\n\treturn {\n\t\turl: str.split('?')[0] || '',\n\t\tquery: parse(extract(str), opts)\n\t};\n};\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutPropertiesLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutPropertiesLoose\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _ThemeProvider = require(\"./ThemeProvider\");\n\nvar defaultProps = {\n  fluid: false\n};\n\nvar Jumbotron =\n/*#__PURE__*/\nfunction (_React$Component) {\n  (0, _inheritsLoose2.default)(Jumbotron, _React$Component);\n\n  function Jumbotron() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = Jumbotron.prototype;\n\n  _proto.render = function render() {\n    var _classes;\n\n    var _this$props = this.props,\n        _this$props$as = _this$props.as,\n        Component = _this$props$as === void 0 ? 'div' : _this$props$as,\n        className = _this$props.className,\n        fluid = _this$props.fluid,\n        bsPrefix = _this$props.bsPrefix,\n        props = (0, _objectWithoutPropertiesLoose2.default)(_this$props, [\"as\", \"className\", \"fluid\", \"bsPrefix\"]);\n    var classes = (_classes = {}, _classes[bsPrefix] = true, _classes[bsPrefix + \"-fluid\"] = fluid, _classes);\n    return _react.default.createElement(Component, (0, _extends2.default)({}, props, {\n      className: (0, _classnames.default)(className, classes)\n    }));\n  };\n\n  return Jumbotron;\n}(_react.default.Component);\n\nJumbotron.defaultProps = defaultProps;\n\nvar _default = (0, _ThemeProvider.createBootstrapComponent)(Jumbotron, 'jumbotron');\n\nexports.default = _default;\nmodule.exports = exports[\"default\"];","'use strict';\nmodule.exports = function (str) {\n\treturn encodeURIComponent(str).replace(/[!'()*]/g, function (c) {\n\t\treturn '%' + c.charCodeAt(0).toString(16).toUpperCase();\n\t});\n};\n","'use strict';\nvar token = '%[a-f0-9]{2}';\nvar singleMatcher = new RegExp(token, 'gi');\nvar multiMatcher = new RegExp('(' + token + ')+', 'gi');\n\nfunction decodeComponents(components, split) {\n\ttry {\n\t\t// Try to decode the entire string first\n\t\treturn decodeURIComponent(components.join(''));\n\t} catch (err) {\n\t\t// Do nothing\n\t}\n\n\tif (components.length === 1) {\n\t\treturn components;\n\t}\n\n\tsplit = split || 1;\n\n\t// Split the array in 2 parts\n\tvar left = components.slice(0, split);\n\tvar right = components.slice(split);\n\n\treturn Array.prototype.concat.call([], decodeComponents(left), decodeComponents(right));\n}\n\nfunction decode(input) {\n\ttry {\n\t\treturn decodeURIComponent(input);\n\t} catch (err) {\n\t\tvar tokens = input.match(singleMatcher);\n\n\t\tfor (var i = 1; i < tokens.length; i++) {\n\t\t\tinput = decodeComponents(tokens, i).join('');\n\n\t\t\ttokens = input.match(singleMatcher);\n\t\t}\n\n\t\treturn input;\n\t}\n}\n\nfunction customDecodeURIComponent(input) {\n\t// Keep track of all the replacements and prefill the map with the `BOM`\n\tvar replaceMap = {\n\t\t'%FE%FF': '\\uFFFD\\uFFFD',\n\t\t'%FF%FE': '\\uFFFD\\uFFFD'\n\t};\n\n\tvar match = multiMatcher.exec(input);\n\twhile (match) {\n\t\ttry {\n\t\t\t// Decode as big chunks as possible\n\t\t\treplaceMap[match[0]] = decodeURIComponent(match[0]);\n\t\t} catch (err) {\n\t\t\tvar result = decode(match[0]);\n\n\t\t\tif (result !== match[0]) {\n\t\t\t\treplaceMap[match[0]] = result;\n\t\t\t}\n\t\t}\n\n\t\tmatch = multiMatcher.exec(input);\n\t}\n\n\t// Add `%C2` at the end of the map to make sure it does not replace the combinator before everything else\n\treplaceMap['%C2'] = '\\uFFFD';\n\n\tvar entries = Object.keys(replaceMap);\n\n\tfor (var i = 0; i < entries.length; i++) {\n\t\t// Replace all decoded components\n\t\tvar key = entries[i];\n\t\tinput = input.replace(new RegExp(key, 'g'), replaceMap[key]);\n\t}\n\n\treturn input;\n}\n\nmodule.exports = function (encodedURI) {\n\tif (typeof encodedURI !== 'string') {\n\t\tthrow new TypeError('Expected `encodedURI` to be of type `string`, got `' + typeof encodedURI + '`');\n\t}\n\n\ttry {\n\t\tencodedURI = encodedURI.replace(/\\+/g, ' ');\n\n\t\t// Try the built in decoder first\n\t\treturn decodeURIComponent(encodedURI);\n\t} catch (err) {\n\t\t// Fallback to a more advanced decoder\n\t\treturn customDecodeURIComponent(encodedURI);\n\t}\n};\n"],"sourceRoot":""}