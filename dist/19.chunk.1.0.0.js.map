{"version":3,"sources":["webpack:///./src/components/Messages/ConversationPreview.js","webpack:///./node_modules/react-bootstrap/Col.js","webpack:///./node_modules/react-bootstrap/Row.js","webpack:///./node_modules/query-string/index.js","webpack:///./node_modules/strict-uri-encode/index.js","webpack:///./node_modules/decode-uri-component/index.js"],"names":["ConversationPreview","_this$props","this","props","conversation","userId","users","translation","history","showPictureModal","showDeleteConfirmation","messages","filter","e","deleted","unreadMessages","m","read","lastMessage","messageTextClass","goToConversation","query_string__WEBPACK_IMPORTED_MODULE_8___default","a","stringify","convId","_id","react__WEBPACK_IMPORTED_MODULE_6___default","createElement","key","className","react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_9___default","noGutters","react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_10___default","xs","sm","SenderInfo","onClick","style","paddingRight","username","paddingLeft","concat","text","react_bootstrap_Badge__WEBPACK_IMPORTED_MODULE_12___default","variant","marginRight","length","timestampToHumanDate","timestamp","title","DELETE","event","React","PureComponent","__webpack_exports__","Object","react_redux__WEBPACK_IMPORTED_MODULE_7__","state","user","_this$props2","userIds","map","u","senders","pictureUrl","lastSender","Fragment","react_bootstrap_Image__WEBPACK_IMPORTED_MODULE_11___default","roundedCircle","src","some","online","_constants__WEBPACK_IMPORTED_MODULE_13__","color","sender","MAIN_COLOR","reduce","prev","curr","_interopRequireDefault","__webpack_require__","exports","__esModule","default","_extends2","_objectWithoutPropertiesLoose2","_classnames","_react","_ThemeProvider","DEVICE_SIZES","Col","forwardRef","_ref","ref","bsPrefix","_ref$as","as","Component","prefix","useBootstrapPrefix","spans","classes","forEach","brkPoint","span","offset","order","propValue","_propValue$span","infix","push","apply","displayName","_default","module","_inheritsLoose2","Row","_React$Component","arguments","prototype","render","_this$props$as","defaultProps","createBootstrapComponent","strictUriEncode","objectAssign","decodeComponent","encode","value","opts","strict","encodeURIComponent","extract","str","queryStart","indexOf","slice","parse","formatter","result","arrayFormat","accumulator","exec","replace","undefined","parserForArrayFormat","ret","create","trim","split","param","parts","shift","val","join","keys","sort","Boolean","Array","isArray","keysSorter","input","b","Number","obj","index","encoderForArrayFormat","val2","x","parseUrl","url","query","c","charCodeAt","toString","toUpperCase","singleMatcher","RegExp","multiMatcher","decodeComponents","components","decodeURIComponent","err","left","right","call","decode","tokens","match","i","encodedURI","TypeError","replaceMap","%FE%FF","%FF%FE","entries","customDecodeURIComponent"],"mappings":"4UAuBMA,2IAEO,IAAAC,EACiGC,KADjGC,MACEC,EADFH,EAAAG,aACgBC,EADhBJ,EAAAI,OACwBC,EADxBL,EAAAK,MAC+BC,EAD/BN,EAAAM,YAC4CC,EAD5CP,EAAAO,QACqDC,EADrDR,EAAAQ,iBACuEC,EADvET,EAAAS,uBAECC,EAAWP,EAAAO,SAAAC,OAA6B,SAAAC,GAAC,OAAKA,EAALC,UACzCC,EAAiBJ,EAAAC,OAAgB,SAAAI,GAAC,OAAKA,EAADC,MAAWD,aAAfX,IAClCa,EAAcP,WAAsBA,EAASA,SAA/BA,GAApB,KACMQ,EAAmBD,IAAgBA,EAAhBA,sBAAzB,GACME,EAAmB,WACrBZ,+BAA8Ba,EAAAC,EAAAC,UAAsB,CAACC,OAAQpB,EAAaqB,SAE9E,OACIC,EAAAJ,EAAAK,cAAA,MAAIC,IAAKxB,EAATqB,IAA2BI,UAAWd,6BAAgD,IAClFW,EAAAJ,EAAAK,cAAA,MAAIE,UAAU,mBACVH,EAAAJ,EAAAK,cAAAG,EAAAR,EAAA,CAAKS,WAAS,GACVL,EAAAJ,EAAAK,cAAAK,EAAAV,EAAA,CAAKW,GAAL,EAAYC,GAAI,IACZR,EAAAJ,EAAAK,cAAAQ,EAAA,CACI3B,QADJA,EAEIgB,OAAQpB,EAFZqB,IAGIpB,OAHJA,EAIID,aAJJA,EAKIK,iBALJA,EAMIH,MAAOA,IAGVY,GACGQ,EAAAJ,EAAAK,cAAAG,EAAAR,EAAA,CAAKO,UAAL,mCAAkDO,QAAShB,GACvDM,EAAAJ,EAAAK,cAAAK,EAAAV,EAAA,CAAKW,GAAL,EAAYC,GAAZ,EAAmBL,UAAnB,iBAA8CQ,MAAO,CAACC,aAAc,IAC/DpB,OADLqB,SADJ,KAIIb,EAAAJ,EAAAK,cAAAK,EAAAV,EAAA,CAAKW,GAAL,EAAYC,GAAZ,EAAmBG,MAAO,CAACG,YAAa,KACpCd,EAAAJ,EAAAK,cAAA,OAAKE,UAAS,qBAAAY,OAAAtB,IACTD,EAlBzBwB,SAyBIhB,EAAAJ,EAAAK,cAAAK,EAAAV,EAAA,CAAKW,GAAL,EAAYC,GAAZ,EAAmBL,UAAnB,uBAAoDO,QAAShB,GACxDL,YACDW,EAAAJ,EAAAK,cAAAgB,EAAArB,EAAA,CAAQsB,QAAR,UAA0BP,MAAO,CAACQ,YAAa,KAC1C9B,EAHT+B,QAMKC,+BAAqB3C,EAAD4C,WAAA,EANzBzC,GAOImB,EAAAJ,EAAAK,cAAA,KACIE,UADJ,mBAEIoB,MAAO1C,gBAFX2C,OAGIb,MAAO,CAACG,YAAa,IACrBJ,QAAS,SAAAe,GAAA,OAAWzC,EAAsByC,EAAQ/C,EAAzCqB,UAKpBP,GACDQ,EAAAJ,EAAAK,cAAAG,EAAAR,EAAA,CAAKO,UAAL,mCAAkDO,QAAShB,GACvDM,EAAAJ,EAAAK,cAAAK,EAAAV,EAAA,CAAKW,GAAL,EAAYC,GAAZ,EAAmBL,UAAU,kBACxBX,OADLqB,SADJ,KAIIb,EAAAJ,EAAAK,cAAAK,EAAAV,EAAA,CAAKW,GAAL,EAAYC,GAAZ,EAAmBG,MAAO,CAACG,YAAa,KACpCd,EAAAJ,EAAAK,cAAA,OAAKE,UAAS,qBAAAY,OAAAtB,IACTD,EAnDzBwB,iBAX0BU,IAAMC,mBAAlCrD,gBACmB,uBAwEVsD,EAAA,QAAAC,OAAAC,EAAA,EAAAD,CACX,SAAAE,GAAK,MAAK,CACNC,KAAMD,iBADAC,KAENpD,MAAOmD,QAFDnD,MAGNC,YAAakD,EAAMlD,cAJZ,IAAfP,OAkBMmC,2IAEO,IAAAwB,EACoEzD,KADpEC,MACEK,EADFmD,EAAAnD,QACWgB,EADXmC,EAAAnC,OACmBpB,EADnBuD,EAAAvD,aACiCC,EADjCsD,EAAAtD,OACyCC,EADzCqD,EAAArD,MACgDG,EADhDkD,EAAAlD,iBAECmD,EAAWxD,EAAAE,MAAAuD,IAAuB,SAAAC,GAAC,OAAIA,EAAJrC,MACrCsC,EAAuBzD,EAAAM,OAAa,SAAAkD,GAAC,OAAIF,WAAiBE,EAArBrC,OACrCsC,SAAJ,IACIA,EAAUA,EAAAnD,OAAe,SAAAkD,GAAC,OAAIA,QAAJzD,KAE9B,IACA2D,EADMC,EAAaF,EAAnB,GAGIC,EADJ,IAAID,SACaE,aAAwBA,EAAxBA,WAAbD,8BAEAA,iCAKJ,OACItC,EAAAJ,EAAAK,cAAAD,EAAAJ,EAAA4C,SAAA,KACIxC,EAAAJ,EAAAK,cAAA,OAAKE,UAAU,2BACV,IAAAkC,EAAAjB,OACGpB,EAAAJ,EAAAK,cAAAwC,EAAA7C,EAAA,CACI8C,eADJ,EAEI/B,MAAO4B,wBAFX,GAGIpC,UAHJ,kBAIIwC,IAJJL,EAKI5B,QAAS,kBAAM3B,EAANuD,MAGbtC,EAAAJ,EAAAK,cAAAwC,EAAA7C,EAAA,CACI8C,eADJ,EAEI/B,MAAO0B,EAAAO,KAAa,SAAAzD,GAAC,OAAIA,EAAJ0D,SAAdC,EAAA,aAFX,GAGI3C,UAHJ,kBAIIwC,IAJJL,EAKI5B,QAAS,kBAAM3B,EAANuD,OAIrBtC,EAAAJ,EAAAK,cAAA,OAAKU,MAAO,CAACoC,MAAO,WAAYrC,QAxBf,WACrB5B,+BAA8Ba,EAAAC,EAAAC,UAAsB,CAACC,eAwB5CuC,aACGrC,EAAAJ,EAAAK,cAAA,cACKsC,EAFRF,UAKGrC,EAAAJ,EAAAK,cAAA,OAAKE,UAAU,oBACVkC,EAAAF,IAAY,SAAAa,GAAM,OACfhD,EAAAJ,EAAAK,cAAA,UAAQC,IAAK8C,EAAbjD,IAAyBY,MAAOqC,EAAAH,OAAgB,CAACE,MAAOE,cAAc,IACjED,EAFUnC,YAAlBqC,OAIS,SAAAC,EAAAC,GAAA,MAAgB,CAAAD,EAAA,KAAhBC,eAnDb1B,IAAMC,mBAAzBlB,gBACmB,gDCjHzB,IAAA4C,EAA6BC,EAAQ,GAErCC,EAAAC,YAAA,EACAD,EAAAE,aAAA,EAEA,IAAAC,EAAAL,EAAuCC,EAAQ,IAE/CK,EAAAN,EAA4DC,EAAQ,IAEpEM,EAAAP,EAAyCC,EAAQ,KAEjDO,EAAAR,EAAoCC,EAAQ,IAE5CQ,EAAqBR,EAAQ,IAE7BS,EAAA,2BAEAC,EAAAH,EAAAJ,QAAAQ,WACA,SAAAC,EAAAC,GACA,IAAAC,EAAAF,EAAAE,SACAjE,EAAA+D,EAAA/D,UACAkE,EAAAH,EAAAI,GACAC,OAAA,IAAAF,EAAA,MAAAA,EACA5F,GAAA,EAAAkF,EAAAF,SAAAS,EAAA,+BACAM,GAAA,EAAAV,EAAAW,oBAAAL,EAAA,OACAM,EAAA,GACAC,EAAA,GAyBA,OAxBAZ,EAAAa,QAAA,SAAAC,GACA,IAEAC,EAAAC,EAAAC,EAFAC,EAAAxG,EAAAoG,GAIA,UAHApG,EAAAoG,GAGA,MAAAI,GAAA,iBAAAA,EAAA,CACA,IAAAC,EAAAD,EAAAH,KACAA,OAAA,IAAAI,KACAH,EAAAE,EAAAF,OACAC,EAAAC,EAAAD,WAEAF,EAAAG,EAGA,IAAAE,EAAA,OAAAN,EAAA,IAAAA,EAAA,GACA,MAAAC,GAAAJ,EAAAU,MAAA,IAAAN,EAAA,GAAAN,EAAAW,EAAA,GAAAX,EAAAW,EAAA,IAAAL,GACA,MAAAE,GAAAL,EAAAS,KAAA,QAAAD,EAAA,IAAAH,GACA,MAAAD,GAAAJ,EAAAS,KAAA,SAAAD,EAAA,IAAAJ,KAGAL,EAAAtD,QACAsD,EAAAU,KAAAZ,GAGAX,EAAAJ,QAAAxD,cAAAsE,GAAA,EAAAb,EAAAD,SAAA,GAA0EhF,EAAA,CAC1E0F,MACAhE,UAAAyD,EAAAH,QAAA4B,WAAA,GAAAlF,GAAAY,OAAA2D,EAAAC,SAIAX,EAAAsB,YAAA,MACA,IAAAC,EAAAvB,EACAT,EAAAE,QAAA8B,EACAC,EAAAjC,UAAA,0CC5DA,IAAAF,EAA6BC,EAAQ,GAErCC,EAAAC,YAAA,EACAD,EAAAE,aAAA,EAEA,IAAAC,EAAAL,EAAuCC,EAAQ,IAE/CK,EAAAN,EAA4DC,EAAQ,IAEpEmC,EAAApC,EAA6CC,EAAQ,KAErDM,EAAAP,EAAyCC,EAAQ,KAEjDO,EAAAR,EAAoCC,EAAQ,IAE5CQ,EAAqBR,EAAQ,IAE7BoC,EAEA,SAAAC,GAGA,SAAAD,IACA,OAAAC,EAAAN,MAAA7G,KAAAoH,YAAApH,KAkBA,OArBA,EAAAiH,EAAAhC,SAAAiC,EAAAC,GAMAD,EAAAG,UAEAC,OAAA,WACA,IAAAvH,EAAAC,KAAAC,MACA2F,EAAA7F,EAAA6F,SACA/D,EAAA9B,EAAA8B,UACA0F,EAAAxH,EAAA+F,GACAC,OAAA,IAAAwB,EAAA,MAAAA,EACA5F,EAAA5B,EAAA4B,UACA1B,GAAA,EAAAkF,EAAAF,SAAAlF,EAAA,2CACA,OAAAsF,EAAAJ,QAAAxD,cAAAsE,GAAA,EAAAb,EAAAD,SAAA,GAA4EhF,EAAA,CAC5E0B,WAAA,EAAAyD,EAAAH,SAAAtD,EAAAiE,EAAA/D,GAAA,kBAIAqF,EAtBA,CAuBC7B,EAAAJ,QAAAc,WAEDmB,EAAAM,aAAA,CACA3F,WAAA,GAGA,IAAAkF,GAAA,EAAAzB,EAAAmC,0BAAAP,EAAA,OAEAnC,EAAAE,QAAA8B,EACAC,EAAAjC,UAAA,0CCpDA,IAAA2C,EAAsB5C,EAAQ,KAC9B6C,EAAmB7C,EAAQ,KAC3B8C,EAAsB9C,EAAQ,KA0F9B,SAAA+C,EAAAC,EAAAC,GACA,OAAAA,EAAAF,OACAE,EAAAC,OAAAN,EAAAI,GAAAG,mBAAAH,GAGAA,EAiBA,SAAAI,EAAAC,GACA,IAAAC,EAAAD,EAAAE,QAAA,KACA,WAAAD,EACA,GAEAD,EAAAG,MAAAF,EAAA,GAGA,SAAAG,EAAAJ,EAAAJ,GAGA,IAAAS,EAnFA,SAAAT,GACA,IAAAU,EAEA,OAAAV,EAAAW,aACA,YACA,gBAAAhH,EAAAoG,EAAAa,GACAF,EAAA,aAAAG,KAAAlH,GAEAA,IAAAmH,QAAA,eAEAJ,QAKAK,IAAAH,EAAAjH,KACAiH,EAAAjH,GAAA,IAGAiH,EAAAjH,GAAA+G,EAAA,IAAAX,GARAa,EAAAjH,GAAAoG,GAWA,cACA,gBAAApG,EAAAoG,EAAAa,GACAF,EAAA,UAAAG,KAAAlH,GACAA,IAAAmH,QAAA,YAEAJ,OAGKK,IAAAH,EAAAjH,GAKLiH,EAAAjH,GAAA,GAAAa,OAAAoG,EAAAjH,GAAAoG,GAJAa,EAAAjH,GAAA,CAAAoG,GAHAa,EAAAjH,GAAAoG,GAUA,QACA,gBAAApG,EAAAoG,EAAAa,QACAG,IAAAH,EAAAjH,GAKAiH,EAAAjH,GAAA,GAAAa,OAAAoG,EAAAjH,GAAAoG,GAJAa,EAAAjH,GAAAoG,IA0CAiB,CAFAhB,EAAAJ,EAAA,CAAsBe,YAAA,QAAoBX,IAM1CiB,EAAA3F,OAAA4F,OAAA,MAEA,uBAAAd,EACAa,GAGAb,IAAAe,OAAAL,QAAA,eAMAV,EAAAgB,MAAA,KAAA/C,QAAA,SAAAgD,GACA,IAAAC,EAAAD,EAAAP,QAAA,WAAAM,MAAA,KAGAzH,EAAA2H,EAAAC,QACAC,EAAAF,EAAAzG,OAAA,EAAAyG,EAAAG,KAAA,UAAAV,EAIAS,OAAAT,IAAAS,EAAA,KAAA3B,EAAA2B,GAEAf,EAAAZ,EAAAlG,GAAA6H,EAAAP,KAGA3F,OAAAoG,KAAAT,GAAAU,OAAAhF,OAAA,SAAA+D,EAAA/G,GACA,IAAA6H,EAAAP,EAAAtH,GAQA,OAPAiI,QAAAJ,IAAA,iBAAAA,IAAAK,MAAAC,QAAAN,GAEAd,EAAA/G,GA3DA,SAAAoI,EAAAC,GACA,OAAAH,MAAAC,QAAAE,GACAA,EAAAL,OACE,iBAAAK,EACFD,EAAAzG,OAAAoG,KAAAM,IAAAL,KAAA,SAAAtI,EAAA4I,GACA,OAAAC,OAAA7I,GAAA6I,OAAAD,KACGrG,IAAA,SAAAjC,GACH,OAAAqI,EAAArI,KAIAqI,EAgDAD,CAAAP,GAEAd,EAAA/G,GAAA6H,EAGAd,GACEpF,OAAA4F,OAAA,QA3BFD,EA8BAjE,EAAAmD,UACAnD,EAAAwD,QAEAxD,EAAA1D,UAAA,SAAA6I,EAAAnC,IASA,KAFAA,EAAAJ,EANA,CACAE,QAAA,EACAG,QAAA,EACAU,YAAA,QAGAX,IAEA2B,OACA3B,EAAA2B,KAAA,cAGA,IAAAlB,EApLA,SAAAT,GACA,OAAAA,EAAAW,aACA,YACA,gBAAAhH,EAAAoG,EAAAqC,GACA,cAAArC,EAAA,CACAD,EAAAnG,EAAAqG,GACA,IACAoC,EACA,KACAX,KAAA,KACA3B,EAAAnG,EAAAqG,GACA,IACAF,EAAAsC,EAAApC,GACA,KACAF,EAAAC,EAAAC,IACAyB,KAAA,KAGA,cACA,gBAAA9H,EAAAoG,GACA,cAAAA,EAAAD,EAAAnG,EAAAqG,GAAA,CACAF,EAAAnG,EAAAqG,GACA,MACAF,EAAAC,EAAAC,IACAyB,KAAA,KAGA,QACA,gBAAA9H,EAAAoG,GACA,cAAAA,EAAAD,EAAAnG,EAAAqG,GAAA,CACAF,EAAAnG,EAAAqG,GACA,IACAF,EAAAC,EAAAC,IACAyB,KAAA,MAmJAY,CAAArC,GAEA,OAAAmC,EAAA7G,OAAAoG,KAAAS,GAAAR,KAAA3B,EAAA2B,MAAA/F,IAAA,SAAAjC,GACA,IAAA6H,EAAAW,EAAAxI,GAEA,QAAAoH,IAAAS,EACA,SAGA,UAAAA,EACA,OAAA1B,EAAAnG,EAAAqG,GAGA,GAAA6B,MAAAC,QAAAN,GAAA,CACA,IAAAd,EAAA,GAUA,OARAc,EAAAjB,QAAAlC,QAAA,SAAAiE,QACAvB,IAAAuB,GAIA5B,EAAA7B,KAAA4B,EAAA9G,EAAA2I,EAAA5B,EAAA7F,WAGA6F,EAAAe,KAAA,KAGA,OAAA3B,EAAAnG,EAAAqG,GAAA,IAAAF,EAAA0B,EAAAxB,KACErH,OAAA,SAAA4J,GACF,OAAAA,EAAA1H,OAAA,IACE4G,KAAA,SAGFzE,EAAAwF,SAAA,SAAApC,EAAAJ,GACA,OACAyC,IAAArC,EAAAgB,MAAA,YACAsB,MAAAlC,EAAAL,EAAAC,GAAAJ,uCC5NAf,EAAAjC,QAAA,SAAAoD,GACA,OAAAF,mBAAAE,GAAAU,QAAA,oBAAA6B,GACA,UAAAA,EAAAC,WAAA,GAAAC,SAAA,IAAAC,mDCFA,IACAC,EAAA,IAAAC,OADA,eACA,MACAC,EAAA,IAAAD,OAAA,wBAEA,SAAAE,EAAAC,EAAA/B,GACA,IAEA,OAAAgC,mBAAAD,EAAA1B,KAAA,KACE,MAAA4B,IAIF,OAAAF,EAAAtI,OACA,OAAAsI,EAGA/B,KAAA,EAGA,IAAAkC,EAAAH,EAAA5C,MAAA,EAAAa,GACAmC,EAAAJ,EAAA5C,MAAAa,GAEA,OAAAS,MAAAvC,UAAA9E,OAAAgJ,KAAA,GAAAN,EAAAI,GAAAJ,EAAAK,IAGA,SAAAE,EAAAzB,GACA,IACA,OAAAoB,mBAAApB,GACE,MAAAqB,GAGF,IAFA,IAAAK,EAAA1B,EAAA2B,MAAAZ,GAEAa,EAAA,EAAiBA,EAAAF,EAAA7I,OAAmB+I,IAGpCF,GAFA1B,EAAAkB,EAAAQ,EAAAE,GAAAnC,KAAA,KAEAkC,MAAAZ,GAGA,OAAAf,GAyCA/C,EAAAjC,QAAA,SAAA6G,GACA,oBAAAA,EACA,UAAAC,UAAA,6DAAAD,EAAA,KAGA,IAIA,OAHAA,IAAA/C,QAAA,WAGAsC,mBAAAS,GACE,MAAAR,GAEF,OAjDA,SAAArB,GAQA,IANA,IAAA+B,EAAA,CACAC,SAAA,KACAC,SAAA,MAGAN,EAAAV,EAAApC,KAAAmB,GACA2B,GAAA,CACA,IAEAI,EAAAJ,EAAA,IAAAP,mBAAAO,EAAA,IACG,MAAAN,GACH,IAAA3C,EAAA+C,EAAAE,EAAA,IAEAjD,IAAAiD,EAAA,KACAI,EAAAJ,EAAA,IAAAjD,GAIAiD,EAAAV,EAAApC,KAAAmB,GAIA+B,EAAA,WAIA,IAFA,IAAAG,EAAA5I,OAAAoG,KAAAqC,GAEAH,EAAA,EAAgBA,EAAAM,EAAArJ,OAAoB+I,IAAA,CAEpC,IAAAjK,EAAAuK,EAAAN,GACA5B,IAAAlB,QAAA,IAAAkC,OAAArJ,EAAA,KAAAoK,EAAApK,IAGA,OAAAqI,EAeAmC,CAAAN","file":"19.chunk.1.0.0.js","sourcesContent":["// @flow\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport queryString from 'query-string';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Image from 'react-bootstrap/Image';\r\nimport Badge from 'react-bootstrap/Badge';\r\nimport { MAIN_COLOR, ONLINE_STYLE } from '../../constants';\r\nimport { timestampToHumanDate } from '../../utils';\r\nimport type { User, Conversation as ConversationType, Translation } from '../../types';\r\n\r\ntype Props = {\r\n    userId: string,\r\n    conversation: ConversationType,\r\n    history: Object,\r\n    showPictureModal: Function,\r\n    showDeleteConfirmation: Function,\r\n    // redux props\r\n    users: Array<User>,\r\n    translation: Translation,\r\n}\r\n\r\nclass ConversationPreview extends React.PureComponent<Props, void> {\r\n    static displayName = 'ConversationPreview';\r\n    render() {\r\n        const {conversation, userId, users, translation, history, showPictureModal, showDeleteConfirmation} = this.props;\r\n        const messages = conversation.messages.filter(e => !e.deleted);\r\n        const unreadMessages = messages.filter(m => !m.read && m.from._id !== userId);\r\n        const lastMessage = messages.length > 0 ? messages[messages.length - 1] : null;\r\n        const messageTextClass = lastMessage && !lastMessage.read ? 'unread-message' : '';\r\n        const goToConversation = () => {\r\n            history.push(`/conversation?${queryString.stringify({convId: conversation._id})}`);\r\n        };\r\n        return (\r\n            <tr key={conversation._id} className={unreadMessages.length > 0 ? 'new-messages-bg' : ''}>\r\n                <td className='conversation-td'>\r\n                    <Row noGutters>\r\n                        <Col xs={7} sm={10}>\r\n                            <SenderInfo\r\n                                history={history}\r\n                                convId={conversation._id}\r\n                                userId={userId}\r\n                                conversation={conversation}\r\n                                showPictureModal={showPictureModal}\r\n                                users={users}\r\n                            />\r\n                            {/* Last message details (desktop only) */}\r\n                            {lastMessage &&\r\n                                <Row className='message-preview d-none d-sm-flex' onClick={goToConversation}>\r\n                                    <Col xs={4} sm={2} className='user-from-text' style={{paddingRight: 0}}>\r\n                                        {lastMessage.from.username}:\r\n                                    </Col>\r\n                                    <Col xs={8} sm={8} style={{paddingLeft: 10}}>\r\n                                        <div className={`conversation-text ${messageTextClass}`}>\r\n                                            {lastMessage.text}\r\n                                        </div>\r\n                                    </Col>\r\n                                </Row>\r\n                            }\r\n                        </Col>\r\n                        {/* Message time and delete btn */}\r\n                        <Col xs={5} sm={2} className='conversation-actions' onClick={goToConversation}>\r\n                            {unreadMessages.length > 0 &&\r\n                            <Badge  variant='success' style={{marginRight: 15}}>\r\n                                {unreadMessages.length}\r\n                            </Badge>\r\n                            }\r\n                            {timestampToHumanDate(conversation.timestamp, false, translation)}\r\n                            <i\r\n                                className='far fa-trash-alt'\r\n                                title={translation.CONVERSATIONS.DELETE}\r\n                                style={{paddingLeft: 10}}\r\n                                onClick={(event) => showDeleteConfirmation(event, conversation._id)}\r\n                            />\r\n                        </Col>\r\n                    </Row>\r\n                    {/* Last message details (mobile only) */}\r\n                    {lastMessage &&\r\n                    <Row className='message-preview d-flex d-sm-none' onClick={goToConversation}>\r\n                        <Col xs={4} sm={2} className='user-from-text'>\r\n                            {lastMessage.from.username}:\r\n                        </Col>\r\n                        <Col xs={8} sm={8} style={{paddingLeft: 10}}>\r\n                            <div className={`conversation-text ${messageTextClass}`}>\r\n                                {lastMessage.text}\r\n                            </div>\r\n                        </Col>\r\n                    </Row>\r\n                    }\r\n                </td>\r\n            </tr>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(\r\n    state => ({\r\n        user: state.authentication.user,\r\n        users: state.users.users,\r\n        translation: state.translation\r\n    }),\r\n    {  }\r\n)(ConversationPreview);\r\n\r\ntype SenderInfoProps = {\r\n    history: Object,\r\n    convId: String,\r\n    userId: string,\r\n    conversation: ConversationType,\r\n    showPictureModal: Function,\r\n    // redux props\r\n    users: Array<User>\r\n}\r\nclass SenderInfo extends React.PureComponent<SenderInfoProps, void> {\r\n    static displayName = 'SenderInfo';\r\n    render() {\r\n        const {history, convId, conversation, userId, users, showPictureModal} = this.props;\r\n        const userIds =  conversation.users.map(u => u._id);\r\n        let senders: Array<User> = users.filter(u => userIds.includes(u._id));\r\n        if (senders.length > 1) {\r\n            senders = senders.filter(u => u._id !== userId); // exclude recipient\r\n        }\r\n        const lastSender = senders[0];\r\n        let pictureUrl;\r\n        if (senders.length === 1) {\r\n            pictureUrl = lastSender.pictureUrl ? lastSender.pictureUrl : '/images/default-profile.jpg';\r\n        } else {\r\n            pictureUrl = '/images/conversation-group.jpg';\r\n        }\r\n        const goToConversation = () => {\r\n            history.push(`/conversation?${queryString.stringify({convId})}`);\r\n        };\r\n        return (\r\n            <>\r\n                <div className='profile-picture-wrapper'>\r\n                    {senders.length === 1 ?\r\n                        <Image\r\n                            roundedCircle\r\n                            style={lastSender.online ? ONLINE_STYLE : {}}\r\n                            className='profile-picture'\r\n                            src={pictureUrl}\r\n                            onClick={() => showPictureModal(pictureUrl)}\r\n                        />\r\n                        :\r\n                        <Image\r\n                            roundedCircle\r\n                            style={senders.some(e => e.online) ? ONLINE_STYLE : {}}\r\n                            className='profile-picture'\r\n                            src={pictureUrl}\r\n                            onClick={() => showPictureModal(pictureUrl)}\r\n                        />\r\n                    }\r\n                </div>\r\n                <div style={{color: '#343a40'}} onClick={goToConversation}>\r\n                    {senders.length === 1 ?\r\n                        <strong>\r\n                            {lastSender.username}\r\n                        </strong>\r\n                        :\r\n                        <div className='cut-senders-text'>\r\n                            {senders.map(sender => (\r\n                                <strong key={sender._id} style={sender.online ? {color: MAIN_COLOR} : {}}>\r\n                                    {sender.username}\r\n                                </strong>\r\n                            )).reduce((prev, curr) => [prev, ', ', curr])}\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutPropertiesLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutPropertiesLoose\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _ThemeProvider = require(\"./ThemeProvider\");\n\nvar DEVICE_SIZES = ['xl', 'lg', 'md', 'sm', 'xs'];\n\nvar Col = _react.default.forwardRef( // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\nfunction (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      props = (0, _objectWithoutPropertiesLoose2.default)(_ref, [\"bsPrefix\", \"className\", \"as\"]);\n  var prefix = (0, _ThemeProvider.useBootstrapPrefix)(bsPrefix, 'col');\n  var spans = [];\n  var classes = [];\n  DEVICE_SIZES.forEach(function (brkPoint) {\n    var propValue = props[brkPoint];\n    delete props[brkPoint];\n    var span, offset, order;\n\n    if (propValue != null && typeof propValue === 'object') {\n      var _propValue$span = propValue.span;\n      span = _propValue$span === void 0 ? true : _propValue$span;\n      offset = propValue.offset;\n      order = propValue.order;\n    } else {\n      span = propValue;\n    }\n\n    var infix = brkPoint !== 'xs' ? \"-\" + brkPoint : '';\n    if (span != null) spans.push(span === true ? \"\" + prefix + infix : \"\" + prefix + infix + \"-\" + span);\n    if (order != null) classes.push(\"order\" + infix + \"-\" + order);\n    if (offset != null) classes.push(\"offset\" + infix + \"-\" + offset);\n  });\n\n  if (!spans.length) {\n    spans.push(prefix); // plain 'col'\n  }\n\n  return _react.default.createElement(Component, (0, _extends2.default)({}, props, {\n    ref: ref,\n    className: _classnames.default.apply(void 0, [className].concat(spans, classes))\n  }));\n});\n\nCol.displayName = 'Col';\nvar _default = Col;\nexports.default = _default;\nmodule.exports = exports[\"default\"];","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutPropertiesLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutPropertiesLoose\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _ThemeProvider = require(\"./ThemeProvider\");\n\nvar Row =\n/*#__PURE__*/\nfunction (_React$Component) {\n  (0, _inheritsLoose2.default)(Row, _React$Component);\n\n  function Row() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = Row.prototype;\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        bsPrefix = _this$props.bsPrefix,\n        noGutters = _this$props.noGutters,\n        _this$props$as = _this$props.as,\n        Component = _this$props$as === void 0 ? 'div' : _this$props$as,\n        className = _this$props.className,\n        props = (0, _objectWithoutPropertiesLoose2.default)(_this$props, [\"bsPrefix\", \"noGutters\", \"as\", \"className\"]);\n    return _react.default.createElement(Component, (0, _extends2.default)({}, props, {\n      className: (0, _classnames.default)(className, bsPrefix, noGutters && 'no-gutters')\n    }));\n  };\n\n  return Row;\n}(_react.default.Component);\n\nRow.defaultProps = {\n  noGutters: false\n};\n\nvar _default = (0, _ThemeProvider.createBootstrapComponent)(Row, 'row');\n\nexports.default = _default;\nmodule.exports = exports[\"default\"];","'use strict';\nvar strictUriEncode = require('strict-uri-encode');\nvar objectAssign = require('object-assign');\nvar decodeComponent = require('decode-uri-component');\n\nfunction encoderForArrayFormat(opts) {\n\tswitch (opts.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn function (key, value, index) {\n\t\t\t\treturn value === null ? [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[',\n\t\t\t\t\tindex,\n\t\t\t\t\t']'\n\t\t\t\t].join('') : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[',\n\t\t\t\t\tencode(index, opts),\n\t\t\t\t\t']=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn function (key, value) {\n\t\t\t\treturn value === null ? encode(key, opts) : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[]=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn function (key, value) {\n\t\t\t\treturn value === null ? encode(key, opts) : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\t}\n}\n\nfunction parserForArrayFormat(opts) {\n\tvar result;\n\n\tswitch (opts.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tresult = /\\[(\\d*)\\]$/.exec(key);\n\n\t\t\t\tkey = key.replace(/\\[\\d*\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = {};\n\t\t\t\t}\n\n\t\t\t\taccumulator[key][result[1]] = value;\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tresult = /(\\[\\])$/.exec(key);\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t} else if (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = [value];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\t}\n}\n\nfunction encode(value, opts) {\n\tif (opts.encode) {\n\t\treturn opts.strict ? strictUriEncode(value) : encodeURIComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction keysSorter(input) {\n\tif (Array.isArray(input)) {\n\t\treturn input.sort();\n\t} else if (typeof input === 'object') {\n\t\treturn keysSorter(Object.keys(input)).sort(function (a, b) {\n\t\t\treturn Number(a) - Number(b);\n\t\t}).map(function (key) {\n\t\t\treturn input[key];\n\t\t});\n\t}\n\n\treturn input;\n}\n\nfunction extract(str) {\n\tvar queryStart = str.indexOf('?');\n\tif (queryStart === -1) {\n\t\treturn '';\n\t}\n\treturn str.slice(queryStart + 1);\n}\n\nfunction parse(str, opts) {\n\topts = objectAssign({arrayFormat: 'none'}, opts);\n\n\tvar formatter = parserForArrayFormat(opts);\n\n\t// Create an object with no prototype\n\t// https://github.com/sindresorhus/query-string/issues/47\n\tvar ret = Object.create(null);\n\n\tif (typeof str !== 'string') {\n\t\treturn ret;\n\t}\n\n\tstr = str.trim().replace(/^[?#&]/, '');\n\n\tif (!str) {\n\t\treturn ret;\n\t}\n\n\tstr.split('&').forEach(function (param) {\n\t\tvar parts = param.replace(/\\+/g, ' ').split('=');\n\t\t// Firefox (pre 40) decodes `%3D` to `=`\n\t\t// https://github.com/sindresorhus/query-string/pull/37\n\t\tvar key = parts.shift();\n\t\tvar val = parts.length > 0 ? parts.join('=') : undefined;\n\n\t\t// missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tval = val === undefined ? null : decodeComponent(val);\n\n\t\tformatter(decodeComponent(key), val, ret);\n\t});\n\n\treturn Object.keys(ret).sort().reduce(function (result, key) {\n\t\tvar val = ret[key];\n\t\tif (Boolean(val) && typeof val === 'object' && !Array.isArray(val)) {\n\t\t\t// Sort object keys, not values\n\t\t\tresult[key] = keysSorter(val);\n\t\t} else {\n\t\t\tresult[key] = val;\n\t\t}\n\n\t\treturn result;\n\t}, Object.create(null));\n}\n\nexports.extract = extract;\nexports.parse = parse;\n\nexports.stringify = function (obj, opts) {\n\tvar defaults = {\n\t\tencode: true,\n\t\tstrict: true,\n\t\tarrayFormat: 'none'\n\t};\n\n\topts = objectAssign(defaults, opts);\n\n\tif (opts.sort === false) {\n\t\topts.sort = function () {};\n\t}\n\n\tvar formatter = encoderForArrayFormat(opts);\n\n\treturn obj ? Object.keys(obj).sort(opts.sort).map(function (key) {\n\t\tvar val = obj[key];\n\n\t\tif (val === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (val === null) {\n\t\t\treturn encode(key, opts);\n\t\t}\n\n\t\tif (Array.isArray(val)) {\n\t\t\tvar result = [];\n\n\t\t\tval.slice().forEach(function (val2) {\n\t\t\t\tif (val2 === undefined) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tresult.push(formatter(key, val2, result.length));\n\t\t\t});\n\n\t\t\treturn result.join('&');\n\t\t}\n\n\t\treturn encode(key, opts) + '=' + encode(val, opts);\n\t}).filter(function (x) {\n\t\treturn x.length > 0;\n\t}).join('&') : '';\n};\n\nexports.parseUrl = function (str, opts) {\n\treturn {\n\t\turl: str.split('?')[0] || '',\n\t\tquery: parse(extract(str), opts)\n\t};\n};\n","'use strict';\nmodule.exports = function (str) {\n\treturn encodeURIComponent(str).replace(/[!'()*]/g, function (c) {\n\t\treturn '%' + c.charCodeAt(0).toString(16).toUpperCase();\n\t});\n};\n","'use strict';\nvar token = '%[a-f0-9]{2}';\nvar singleMatcher = new RegExp(token, 'gi');\nvar multiMatcher = new RegExp('(' + token + ')+', 'gi');\n\nfunction decodeComponents(components, split) {\n\ttry {\n\t\t// Try to decode the entire string first\n\t\treturn decodeURIComponent(components.join(''));\n\t} catch (err) {\n\t\t// Do nothing\n\t}\n\n\tif (components.length === 1) {\n\t\treturn components;\n\t}\n\n\tsplit = split || 1;\n\n\t// Split the array in 2 parts\n\tvar left = components.slice(0, split);\n\tvar right = components.slice(split);\n\n\treturn Array.prototype.concat.call([], decodeComponents(left), decodeComponents(right));\n}\n\nfunction decode(input) {\n\ttry {\n\t\treturn decodeURIComponent(input);\n\t} catch (err) {\n\t\tvar tokens = input.match(singleMatcher);\n\n\t\tfor (var i = 1; i < tokens.length; i++) {\n\t\t\tinput = decodeComponents(tokens, i).join('');\n\n\t\t\ttokens = input.match(singleMatcher);\n\t\t}\n\n\t\treturn input;\n\t}\n}\n\nfunction customDecodeURIComponent(input) {\n\t// Keep track of all the replacements and prefill the map with the `BOM`\n\tvar replaceMap = {\n\t\t'%FE%FF': '\\uFFFD\\uFFFD',\n\t\t'%FF%FE': '\\uFFFD\\uFFFD'\n\t};\n\n\tvar match = multiMatcher.exec(input);\n\twhile (match) {\n\t\ttry {\n\t\t\t// Decode as big chunks as possible\n\t\t\treplaceMap[match[0]] = decodeURIComponent(match[0]);\n\t\t} catch (err) {\n\t\t\tvar result = decode(match[0]);\n\n\t\t\tif (result !== match[0]) {\n\t\t\t\treplaceMap[match[0]] = result;\n\t\t\t}\n\t\t}\n\n\t\tmatch = multiMatcher.exec(input);\n\t}\n\n\t// Add `%C2` at the end of the map to make sure it does not replace the combinator before everything else\n\treplaceMap['%C2'] = '\\uFFFD';\n\n\tvar entries = Object.keys(replaceMap);\n\n\tfor (var i = 0; i < entries.length; i++) {\n\t\t// Replace all decoded components\n\t\tvar key = entries[i];\n\t\tinput = input.replace(new RegExp(key, 'g'), replaceMap[key]);\n\t}\n\n\treturn input;\n}\n\nmodule.exports = function (encodedURI) {\n\tif (typeof encodedURI !== 'string') {\n\t\tthrow new TypeError('Expected `encodedURI` to be of type `string`, got `' + typeof encodedURI + '`');\n\t}\n\n\ttry {\n\t\tencodedURI = encodedURI.replace(/\\+/g, ' ');\n\n\t\t// Try the built in decoder first\n\t\treturn decodeURIComponent(encodedURI);\n\t} catch (err) {\n\t\t// Fallback to a more advanced decoder\n\t\treturn customDecodeURIComponent(encodedURI);\n\t}\n};\n"],"sourceRoot":""}